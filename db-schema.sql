
    create table EmailTemplate (
       id bigint generated by default as identity,
        created_at timestamp not null,
        last_Modified timestamp not null,
        name varchar(255) not null,
        originalHtml varchar(1000000) not null,
        sourceHtml varchar(1000000) not null,
        primary key (id)
    );

    create table EmailTemplate_SpoofTarget (
       template_id bigint not null,
        spoof_id bigint not null
    );

    create table Parameter (
       id bigint generated by default as identity,
        name varchar(255),
        sourceType varchar(255),
        primary key (id)
    );

    create table PhishingTarget (
       id bigint generated by default as identity,
        created_at timestamp not null,
        last_Modified timestamp not null,
        email_address varchar(255) not null,
        primary key (id)
    );

    create table PhishingTargetParameter (
       id bigint generated by default as identity,
        value varchar(255),
        parameter bigint,
        phishingTarget bigint,
        primary key (id)
    );

    create table Sender (
       id bigint generated by default as identity,
        created_at timestamp not null,
        last_Modified timestamp not null,
        loginName varchar(255) not null,
        password varchar(255) not null,
        server_id bigint not null,
        primary key (id)
    );

    create table SenderServer (
       id bigint generated by default as identity,
        created_at timestamp not null,
        last_Modified timestamp not null,
        name varchar(255) not null,
        host varchar(255) not null,
        port integer not null,
        tls boolean not null,
        primary key (id)
    );

    create table SpoofTarget (
       id bigint generated by default as identity,
        created_at timestamp not null,
        last_Modified timestamp not null,
        email_address varchar(255) not null,
        primary key (id)
    );

    alter table EmailTemplate 
       add constraint UK_r9g3va2463hbkq4cglmjjmjxo unique (name);

    alter table Parameter 
       add constraint uk_name_sourceType unique (name, sourceType);

    alter table PhishingTarget 
       add constraint UK_puodnqncacjcrcsj08y9htga4 unique (email_address);

    alter table PhishingTargetParameter 
       add constraint uk_targetParameter unique (phishingTarget, parameter);

    alter table SenderServer 
       add constraint UK_jbwjjl7guqmim2n6c8cot7d61 unique (name);

    alter table SpoofTarget 
       add constraint UK_bkgbjankd2sas7sdvc0wfjvqu unique (email_address);

    alter table EmailTemplate_SpoofTarget 
       add constraint FKabifw8vjkk0xjfhumruugt1of 
       foreign key (spoof_id) 
       references SpoofTarget;

    alter table EmailTemplate_SpoofTarget 
       add constraint FKcyetgmsmyle46k5dvdai0oshc 
       foreign key (template_id) 
       references EmailTemplate;

    alter table PhishingTargetParameter 
       add constraint FKayppg5mc5qasc87nxk1gphgfj 
       foreign key (parameter) 
       references Parameter;

    alter table PhishingTargetParameter 
       add constraint FKh3ca4mg7r7hp9ndvlydj0cwlh 
       foreign key (phishingTarget) 
       references PhishingTarget;

    alter table Sender 
       add constraint FKn792mqtwofbcxeq253tjylew2 
       foreign key (server_id) 
       references SenderServer;
