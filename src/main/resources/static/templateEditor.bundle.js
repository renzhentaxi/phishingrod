!function(e){var t=window.webpackHotUpdate;window.webpackHotUpdate=function(e,n){!function(e,t){if(!w[e]||!b[e])return;for(var n in b[e]=!1,t)Object.prototype.hasOwnProperty.call(t,n)&&(f[n]=t[n]);0==--v&&0===y&&N()}(e,n),t&&t(e,n)};var n,r=!0,o="3510ab600353bae4193d",a=1e4,i={},s=[],c=[];function l(e){var t=k[e];if(!t)return D;var r=function(r){return t.hot.active?(k[r]?-1===k[r].parents.indexOf(e)&&k[r].parents.push(e):(s=[e],n=r),-1===t.children.indexOf(r)&&t.children.push(r)):(console.warn("[HMR] unexpected require("+r+") from disposed module "+e),s=[]),D(r)},o=function(e){return{configurable:!0,enumerable:!0,get:function(){return D[e]},set:function(t){D[e]=t}}};for(var a in D)Object.prototype.hasOwnProperty.call(D,a)&&"e"!==a&&Object.defineProperty(r,a,o(a));return r.e=function(e){return"ready"===u&&p("prepare"),y++,D.e(e).then(t,function(e){throw t(),e});function t(){y--,"prepare"===u&&(g[e]||E(e),0===y&&0===v&&N())}},r}var d=[],u="idle";function p(e){u=e;for(var t=0;t<d.length;t++)d[t].call(null,e)}var h,f,m,v=0,y=0,g={},b={},w={};function x(e){return+e+""===e?+e:e}function O(e){if("idle"!==u)throw new Error("check() is only allowed in idle status");return r=e,p("check"),(t=a,t=t||1e4,new Promise(function(e,n){if("undefined"==typeof XMLHttpRequest)return n(new Error("No browser support"));try{var r=new XMLHttpRequest,a=D.p+""+o+".hot-update.json";r.open("GET",a,!0),r.timeout=t,r.send(null)}catch(e){return n(e)}r.onreadystatechange=function(){if(4===r.readyState)if(0===r.status)n(new Error("Manifest request to "+a+" timed out."));else if(404===r.status)e();else if(200!==r.status&&304!==r.status)n(new Error("Manifest request to "+a+" failed."));else{try{var t=JSON.parse(r.responseText)}catch(e){return void n(e)}e(t)}}})).then(function(e){if(!e)return p("idle"),null;b={},g={},w=e.c,m=e.h,p("prepare");var t=new Promise(function(e,t){h={resolve:e,reject:t}});f={};return E(1),"prepare"===u&&0===y&&0===v&&N(),t});var t}function E(e){w[e]?(b[e]=!0,v++,function(e){var t=document.getElementsByTagName("head")[0],n=document.createElement("script");n.charset="utf-8",n.src=D.p+""+e+"."+o+".hot-update.js",t.appendChild(n)}(e)):g[e]=!0}function N(){p("ready");var e=h;if(h=null,e)if(r)Promise.resolve().then(function(){return C(r)}).then(function(t){e.resolve(t)},function(t){e.reject(t)});else{var t=[];for(var n in f)Object.prototype.hasOwnProperty.call(f,n)&&t.push(x(n));e.resolve(t)}}function C(t){if("ready"!==u)throw new Error("apply() is only allowed in ready status");var n,r,a,c,l;function d(e){for(var t=[e],n={},r=t.slice().map(function(e){return{chain:[e],id:e}});r.length>0;){var o=r.pop(),a=o.id,i=o.chain;if((c=k[a])&&!c.hot._selfAccepted){if(c.hot._selfDeclined)return{type:"self-declined",chain:i,moduleId:a};if(c.hot._main)return{type:"unaccepted",chain:i,moduleId:a};for(var s=0;s<c.parents.length;s++){var l=c.parents[s],d=k[l];if(d){if(d.hot._declinedDependencies[a])return{type:"declined",chain:i.concat([l]),moduleId:a,parentId:l};-1===t.indexOf(l)&&(d.hot._acceptedDependencies[a]?(n[l]||(n[l]=[]),h(n[l],[a])):(delete n[l],t.push(l),r.push({chain:i.concat([l]),id:l})))}}}}return{type:"accepted",moduleId:e,outdatedModules:t,outdatedDependencies:n}}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];-1===e.indexOf(r)&&e.push(r)}}t=t||{};var v={},y=[],g={},b=function(){console.warn("[HMR] unexpected require("+E.moduleId+") to disposed module")};for(var O in f)if(Object.prototype.hasOwnProperty.call(f,O)){var E;l=x(O);var N=!1,C=!1,_=!1,M="";switch((E=f[O]?d(l):{type:"disposed",moduleId:O}).chain&&(M="\nUpdate propagation: "+E.chain.join(" -> ")),E.type){case"self-declined":t.onDeclined&&t.onDeclined(E),t.ignoreDeclined||(N=new Error("Aborted because of self decline: "+E.moduleId+M));break;case"declined":t.onDeclined&&t.onDeclined(E),t.ignoreDeclined||(N=new Error("Aborted because of declined dependency: "+E.moduleId+" in "+E.parentId+M));break;case"unaccepted":t.onUnaccepted&&t.onUnaccepted(E),t.ignoreUnaccepted||(N=new Error("Aborted because "+l+" is not accepted"+M));break;case"accepted":t.onAccepted&&t.onAccepted(E),C=!0;break;case"disposed":t.onDisposed&&t.onDisposed(E),_=!0;break;default:throw new Error("Unexception type "+E.type)}if(N)return p("abort"),Promise.reject(N);if(C)for(l in g[l]=f[l],h(y,E.outdatedModules),E.outdatedDependencies)Object.prototype.hasOwnProperty.call(E.outdatedDependencies,l)&&(v[l]||(v[l]=[]),h(v[l],E.outdatedDependencies[l]));_&&(h(y,[E.moduleId]),g[l]=b)}var P,j=[];for(r=0;r<y.length;r++)l=y[r],k[l]&&k[l].hot._selfAccepted&&j.push({module:l,errorHandler:k[l].hot._selfAccepted});p("dispose"),Object.keys(w).forEach(function(e){!1===w[e]&&function(e){delete installedChunks[e]}(e)});for(var A,T,H=y.slice();H.length>0;)if(l=H.pop(),c=k[l]){var I={},L=c.hot._disposeHandlers;for(a=0;a<L.length;a++)(n=L[a])(I);for(i[l]=I,c.hot.active=!1,delete k[l],delete v[l],a=0;a<c.children.length;a++){var S=k[c.children[a]];S&&((P=S.parents.indexOf(l))>=0&&S.parents.splice(P,1))}}for(l in v)if(Object.prototype.hasOwnProperty.call(v,l)&&(c=k[l]))for(T=v[l],a=0;a<T.length;a++)A=T[a],(P=c.children.indexOf(A))>=0&&c.children.splice(P,1);for(l in p("apply"),o=m,g)Object.prototype.hasOwnProperty.call(g,l)&&(e[l]=g[l]);var B=null;for(l in v)if(Object.prototype.hasOwnProperty.call(v,l)&&(c=k[l])){T=v[l];var q=[];for(r=0;r<T.length;r++)if(A=T[r],n=c.hot._acceptedDependencies[A]){if(-1!==q.indexOf(n))continue;q.push(n)}for(r=0;r<q.length;r++){n=q[r];try{n(T)}catch(e){t.onErrored&&t.onErrored({type:"accept-errored",moduleId:l,dependencyId:T[r],error:e}),t.ignoreErrored||B||(B=e)}}}for(r=0;r<j.length;r++){var U=j[r];l=U.module,s=[l];try{D(l)}catch(e){if("function"==typeof U.errorHandler)try{U.errorHandler(e)}catch(n){t.onErrored&&t.onErrored({type:"self-accept-error-handler-errored",moduleId:l,error:n,originalError:e}),t.ignoreErrored||B||(B=n),B||(B=e)}else t.onErrored&&t.onErrored({type:"self-accept-errored",moduleId:l,error:e}),t.ignoreErrored||B||(B=e)}}return B?(p("fail"),Promise.reject(B)):(p("idle"),new Promise(function(e){e(y)}))}var k={};function D(t){if(k[t])return k[t].exports;var r=k[t]={i:t,l:!1,exports:{},hot:function(e){var t={_acceptedDependencies:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_disposeHandlers:[],_main:n!==e,active:!0,accept:function(e,n){if(void 0===e)t._selfAccepted=!0;else if("function"==typeof e)t._selfAccepted=e;else if("object"==typeof e)for(var r=0;r<e.length;r++)t._acceptedDependencies[e[r]]=n||function(){};else t._acceptedDependencies[e]=n||function(){}},decline:function(e){if(void 0===e)t._selfDeclined=!0;else if("object"==typeof e)for(var n=0;n<e.length;n++)t._declinedDependencies[e[n]]=!0;else t._declinedDependencies[e]=!0},dispose:function(e){t._disposeHandlers.push(e)},addDisposeHandler:function(e){t._disposeHandlers.push(e)},removeDisposeHandler:function(e){var n=t._disposeHandlers.indexOf(e);n>=0&&t._disposeHandlers.splice(n,1)},check:O,apply:C,status:function(e){if(!e)return u;d.push(e)},addStatusHandler:function(e){d.push(e)},removeStatusHandler:function(e){var t=d.indexOf(e);t>=0&&d.splice(t,1)},data:i[e]};return n=void 0,t}(t),parents:(c=s,s=[],c),children:[]};return e[t].call(r.exports,r,r.exports,l(t)),r.l=!0,r.exports}D.m=e,D.c=k,D.d=function(e,t,n){D.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},D.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},D.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return D.d(t,"a",t),t},D.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},D.p="",D.h=function(){return o},l(7)(D.s=7)}([function(e,t,n){"use strict";n.d(t,"a",function(){return r});class r{static from(e){let t=e.className,n=e.tagName;const o=r.element(t,n);for(let t in e)"className"!==t&&"tagName"!==t&&o.setAttribute(t,e[t]);return o}static wrapChild(e,t){const n=t.parentElement,o=r.from(e);return o.classList.add("wrapper"),n.replaceChild(o,t),o.appendChild(t),o}static wrap(e,...t){const n=r.from(e);for(let e of t)n.appendChild(e);return n}static wrapWithTag(e="div",...t){const n=document.createElement(e);for(let e of t)n.appendChild(e);return n}static element(e,t="div"){const n=document.createElement(t);return e&&e.className&&(e=e.className),null!==e&&(n.className=e),n}static text(e,t,n){const o=document.createTextNode(e);if(t){const e=r.element(t,n);return e.appendChild(o),e}return o}static button(e,t){const n=this.element(t,"button");return n.appendChild(document.createTextNode(e)),n}static input(e,t){const n=this.element(t,"input");return n.placeholder=e,n}static unwrap(e){console.log(e),console.assert(e.classList.contains("wrapper"));const t=e.firstChild,n=e.parentElement;n.replaceChild(t,e),n.normalize()}static extractText(e,t,n){const r=e.splitText(t);r.splitText(n-t);return r}}},function(e,t,n){"use strict";n.d(t,"a",function(){return r});const r={parameter:{className:"pr-param",type:{attribute:"pr-param-type",text:"text",link:"link"},name:{attribute:"pr-param-name"},node:{className:"pr-param-node"},control:{className:"pr-param-control",deleteButton:"pr-param-control-delete"}},menu:{className:"context-menu",option:{className:"context-menu-option",title:"context-menu-option-title",input:"context-menu-option-input"}}}},function(e,t,n){"use strict";n.d(t,"b",function(){return o}),n.d(t,"a",function(){return a});var r=n(0);function o(e,t,n){return e.length>t?e.substr(0,t-n.length)+n:e}function a(e,t){const n={tagName:"link",rel:"stylesheet",href:t};e.appendChild(r.a.from(n))}},function(e,t,n){"use strict";var r=n(0),o=n(1);class a{constructor(e){this.name=e,this.parameterType=o.a.parameter.type.text,this.parameterNodes=[],this.wrapper={className:o.a.parameter.node,tagName:"div",[o.a.parameter.name.attribute]:this.name},console.log("Creating new parameter: "+e)}get paramType(){return this.parameterType}addNode(e){e.nodeType===Node.TEXT_NODE?(e=r.a.wrapChild(this.wrapper,e),this.parameterNodes.push(e)):console.error("Error")}removeParamNode(e){const t=this.parameterNodes.findIndex(e);console.assert(-1!==t),this.parameterNodes.splice(t,1),r.a.unwrap(e)}clear(){for(;this.parameterNodes.length>0;){const e=this.parameterNodes.pop();r.a.unwrap(e)}}}class i{constructor(e,t){this.model=e,this.onDeleteCallBack=t,this.wrapperConfig={className:o.a.parameter.control,[o.a.parameter.name.attribute]:e.name,[o.a.parameter.type.attribute]:e.paramType,tagName:"li"},this.element=r.a.from(this.wrapperConfig),this.label=r.a.text(e.name,"pr-param-control-nameLabel"),this.deleteButton=r.a.button("X",o.a.parameter.control.deleteButton),this.deleteButton.onclick=(()=>this.onDelete()),this.element=r.a.wrap(this.wrapperConfig,this.label,this.deleteButton),console.log(this.element),this.element.onmouseenter=(()=>this.highlight()),this.element.onmouseleave=(()=>this.unhighlight())}onDelete(){this.onDeleteCallBack(),this.model.clear(),this.element.remove()}unhighlight(){for(let e of this.model.parameterNodes)e.removeAttribute("active")}highlight(){for(let e of this.model.parameterNodes)e.setAttribute("active","")}}n.d(t,"a",function(){return s});class s{constructor(){this.parameterControls=[],this.parameterViews=[],this.view=document.querySelector(".Parameter-list"),console.assert(this.view)}indexOf(e){for(let t=0;t<this.parameterControls.length;t++){if(this.parameterControls[t].name===e)return t}return-1}has(e){return-1!==this.indexOf(e)}findParameter(e){const t=this.indexOf(e);return-1===t?null:{control:this.parameterControls[t],view:this.parameterViews[t]}}addParameter(e,t){console.assert(!this.has(e));const n=new a(e,t),r=new i(n,e=>this.deleteParameter(e));return this.parameterControls.push(n),this.parameterViews.push(r),this.view.appendChild(r.element),{control:n,view:r}}deleteParameter(e){const t=this.indexOf(e);this.parameterControls.splice(t,1),this.parameterViews.splice(t,1)}}},function(e,t,n){"use strict";var r=n(0),o=n(1);const a=10;class i{constructor(e){this.template=e,this.menuElement=r.a.element(o.a.menu,"ul"),e.body.appendChild(this.menuElement),e.addEventListener("click",e=>this.handleClick(e))}clear(){const e=this.menuElement;for(;e.lastChild;)e.removeChild(e.lastChild)}addOption(e){this.menuElement.appendChild(e.element)}position(e,t){const n=this.menuElement,r=this.template.documentElement.clientWidth,o=this.template.documentElement.clientHeight,i=n.offsetWidth,s=n.offsetHeight,c=r-i-a,l=o-s-a;console.log(r),console.log(e),n.style.left=(e>c?c:e)+"px",n.style.top=(t>l?l:t)+"px"}replaceMenuOptions(...e){this.clear();for(let t of e)this.addOption(t)}showMenu(){this.menuElement.setAttribute("Active","")}hideMenu(){this.clear(),this.menuElement.removeAttribute("Active")}handleClick(e){const t=e.target;this.menuElement.contains(t)||this.hideMenu()}}var s=n(2);class c{constructor(e,t){this.menu=e,this.parameterContainer=t,this.title=r.a.text("Parametrize text",o.a.menu.option.title),this.input=r.a.input("Enter Parameter Name",o.a.menu.option.input),this.btn=r.a.button("Accept",o.a.menu.option.acceptBtn),this.btn.onclick=(()=>this.submit()),this.el=r.a.wrapWithTag("li",this.title,this.input,this.btn)}submit(){const e=this.parameterContainer,t=this.input.value,{textNode:n,start:a,end:i}=this.data,{control:s,view:c}=e.findParameter(t)||e.addParameter(t,o.a.parameter.type.text),l=r.a.extractText(n,a,i);s.addNode(l),this.menu.hideMenu()}get element(){return this.el}setData(e,t,n){if(this.title.innerText="Convert this text: {"+Object(s.b)(function(e,t,n){return e.textContent.substring(t,n)}(e,t,n),15,"...")+"}\nAs:",t>n){const e=t;t=n,n=e}this.data={textNode:e,start:t,end:n}}}n.d(t,"a",function(){return l});class l{constructor(e,t){this.template=e,this.menu=new i(e),this.handleContextMenu=this.handleContextMenu.bind(this),this.handleClick=this.handleClick.bind(this),e.body.addEventListener("contextmenu",this.handleContextMenu),e.body.addEventListener("click",this.handleClick),this.textOption=new c(this.menu,t)}static activateLinkMenu(e){console.log(e),console.log("good selection link")}activateTextMenu(e,t,n){if(t>n){const e=t;t=n,n=e}this.textOption.setData(e,t,n),this.menu.replaceMenuOptions(this.textOption)}static processSelection(e,t){if("Range"===t.type){if(t.anchorNode===t.focusNode){return 0===t.anchorNode.textContent.substring(t.anchorOffset,t.focusOffset).trim().length?"empty":"text"}return"mixed"}return"A"===e.tagName?"link":"none"}handleContextMenu(e){const t=e.target,n=this.template.getSelection();switch(l.processSelection(t,n)){case"empty":console.log("Invalid selection! You have selected empty/whitespaces");break;case"text":this.activateTextMenu(n.anchorNode,n.anchorOffset,n.focusOffset);break;case"mixed":console.log("Invalid selection! You have selected multiple nodes at once");break;case"link":l.activateLinkMenu(t);break;case"none":console.log("Empty Selection")}this.menu.showMenu(),this.menu.position(e.clientX,e.clientY)}handleClick(e){const t=e.target;"A"===t.tagName&&(l.activateLinkMenu(t),this.menu.showMenu())}}},function(e,t,n){"use strict";function r(e){const t=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT);for(;t.nextNode();)"A"===t.currentNode.tagName&&(console.log(t.currentNode),t.currentNode.addEventListener("click",e=>e.preventDefault()));e.addEventListener("contextmenu",e=>e.preventDefault())}n.d(t,"a",function(){return r})},,function(e,t,n){"use strict";n.r(t);var r=n(5),o=n(4),a=n(3),i=n(2);const s=document.querySelector(".pr-source"),c=document.createElement("iframe");c.src=s.getAttribute("data-templateUrl"),c.id="templateContainer",c.onload=(()=>{const e=c.contentDocument;Object(r.a)(e.body),Object(i.a)(e.head,"/contextmenu.css"),Object(i.a)(e.head,"parameter.css");const t=new a.a;new o.a(e,t)}),s.appendChild(c)}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvcmUvRWxlbWVudHMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvcmUvbmFtZXMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL290aGVyL3V0aWwuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BhcmFtZXRlcnMvdGV4dFBhcmFtZXRlci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvcGFyYW1ldGVycy90ZXh0LXBhcmFtZXRlci1jb250cm9sLmpzIiwid2VicGFjazovLy8uL3NyYy9wYXJhbWV0ZXJzL3BhcmFtZXRlckNvbnRhaW5lci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29udGV4dG1lbnUvbWVudS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29udGV4dG1lbnUvYWN0aW9ucy9wYXJhbVRleHRPcHRpb24uanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbnRleHRtZW51L2NvbnRleHRtZW51LmpzIiwid2VicGFjazovLy8uL3NyYy9vdGhlci9kaXNhYmxlRGVmYXVsdEFjdGlvbi5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvaW5kZXguanMiXSwibmFtZXMiOlsicGFyZW50SG90VXBkYXRlQ2FsbGJhY2siLCJ3aW5kb3ciLCJjaHVua0lkIiwibW9yZU1vZHVsZXMiLCJob3RBdmFpbGFibGVGaWxlc01hcCIsImhvdFJlcXVlc3RlZEZpbGVzTWFwIiwibW9kdWxlSWQiLCJPYmplY3QiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJob3RVcGRhdGUiLCJob3RXYWl0aW5nRmlsZXMiLCJob3RDaHVua3NMb2FkaW5nIiwiaG90VXBkYXRlRG93bmxvYWRlZCIsImhvdEFkZFVwZGF0ZUNodW5rIiwiaG90Q3VycmVudENoaWxkTW9kdWxlIiwiaG90QXBwbHlPblVwZGF0ZSIsImhvdEN1cnJlbnRIYXNoIiwiaG90UmVxdWVzdFRpbWVvdXQiLCJob3RDdXJyZW50TW9kdWxlRGF0YSIsImhvdEN1cnJlbnRQYXJlbnRzIiwiaG90Q3VycmVudFBhcmVudHNUZW1wIiwiaG90Q3JlYXRlUmVxdWlyZSIsIm1lIiwiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJmbiIsInJlcXVlc3QiLCJob3QiLCJhY3RpdmUiLCJwYXJlbnRzIiwiaW5kZXhPZiIsInB1c2giLCJjaGlsZHJlbiIsImNvbnNvbGUiLCJ3YXJuIiwiT2JqZWN0RmFjdG9yeSIsIm5hbWUiLCJjb25maWd1cmFibGUiLCJlbnVtZXJhYmxlIiwiZ2V0Iiwic2V0IiwidmFsdWUiLCJkZWZpbmVQcm9wZXJ0eSIsImUiLCJob3RTdGF0dXMiLCJob3RTZXRTdGF0dXMiLCJ0aGVuIiwiZmluaXNoQ2h1bmtMb2FkaW5nIiwiZXJyIiwiaG90V2FpdGluZ0ZpbGVzTWFwIiwiaG90RW5zdXJlVXBkYXRlQ2h1bmsiLCJob3RTdGF0dXNIYW5kbGVycyIsIm5ld1N0YXR1cyIsImkiLCJsZW5ndGgiLCJob3REZWZlcnJlZCIsImhvdFVwZGF0ZU5ld0hhc2giLCJ0b01vZHVsZUlkIiwiaWQiLCJob3RDaGVjayIsImFwcGx5IiwiRXJyb3IiLCJyZXF1ZXN0VGltZW91dCIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwiWE1MSHR0cFJlcXVlc3QiLCJyZXF1ZXN0UGF0aCIsInAiLCJvcGVuIiwidGltZW91dCIsInNlbmQiLCJvbnJlYWR5c3RhdGVjaGFuZ2UiLCJyZWFkeVN0YXRlIiwic3RhdHVzIiwidXBkYXRlIiwiSlNPTiIsInBhcnNlIiwicmVzcG9uc2VUZXh0IiwiYyIsImgiLCJwcm9taXNlIiwiaGVhZCIsImRvY3VtZW50IiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJzY3JpcHQiLCJjcmVhdGVFbGVtZW50IiwiY2hhcnNldCIsInNyYyIsImFwcGVuZENoaWxkIiwiaG90RG93bmxvYWRVcGRhdGVDaHVuayIsImRlZmVycmVkIiwiaG90QXBwbHkiLCJyZXN1bHQiLCJvdXRkYXRlZE1vZHVsZXMiLCJvcHRpb25zIiwiY2IiLCJqIiwibW9kdWxlIiwiZ2V0QWZmZWN0ZWRTdHVmZiIsInVwZGF0ZU1vZHVsZUlkIiwib3V0ZGF0ZWREZXBlbmRlbmNpZXMiLCJxdWV1ZSIsInNsaWNlIiwibWFwIiwiY2hhaW4iLCJxdWV1ZUl0ZW0iLCJwb3AiLCJfc2VsZkFjY2VwdGVkIiwiX3NlbGZEZWNsaW5lZCIsInR5cGUiLCJfbWFpbiIsInBhcmVudElkIiwicGFyZW50IiwiX2RlY2xpbmVkRGVwZW5kZW5jaWVzIiwiY29uY2F0IiwiX2FjY2VwdGVkRGVwZW5kZW5jaWVzIiwiYWRkQWxsVG9TZXQiLCJhIiwiYiIsIml0ZW0iLCJhcHBsaWVkVXBkYXRlIiwid2FyblVuZXhwZWN0ZWRSZXF1aXJlIiwiYWJvcnRFcnJvciIsImRvQXBwbHkiLCJkb0Rpc3Bvc2UiLCJjaGFpbkluZm8iLCJqb2luIiwib25EZWNsaW5lZCIsImlnbm9yZURlY2xpbmVkIiwib25VbmFjY2VwdGVkIiwiaWdub3JlVW5hY2NlcHRlZCIsIm9uQWNjZXB0ZWQiLCJvbkRpc3Bvc2VkIiwiaWR4Iiwib3V0ZGF0ZWRTZWxmQWNjZXB0ZWRNb2R1bGVzIiwiZXJyb3JIYW5kbGVyIiwia2V5cyIsImZvckVhY2giLCJpbnN0YWxsZWRDaHVua3MiLCJob3REaXNwb3NlQ2h1bmsiLCJkZXBlbmRlbmN5IiwibW9kdWxlT3V0ZGF0ZWREZXBlbmRlbmNpZXMiLCJkYXRhIiwiZGlzcG9zZUhhbmRsZXJzIiwiX2Rpc3Bvc2VIYW5kbGVycyIsImNoaWxkIiwic3BsaWNlIiwibW9kdWxlcyIsImVycm9yIiwiY2FsbGJhY2tzIiwib25FcnJvcmVkIiwiZGVwZW5kZW5jeUlkIiwiaWdub3JlRXJyb3JlZCIsImVycjIiLCJvcmlnaW5hbEVycm9yIiwiZXhwb3J0cyIsImwiLCJhY2NlcHQiLCJkZXAiLCJjYWxsYmFjayIsImRlY2xpbmUiLCJkaXNwb3NlIiwiYWRkRGlzcG9zZUhhbmRsZXIiLCJyZW1vdmVEaXNwb3NlSGFuZGxlciIsImNoZWNrIiwiYWRkU3RhdHVzSGFuZGxlciIsInJlbW92ZVN0YXR1c0hhbmRsZXIiLCJ1bmRlZmluZWQiLCJob3RDcmVhdGVNb2R1bGUiLCJtIiwiZCIsImdldHRlciIsIm8iLCJyIiwibiIsIl9fZXNNb2R1bGUiLCJvYmplY3QiLCJwcm9wZXJ0eSIsInMiLCJFbGVtZW50cyIsIltvYmplY3QgT2JqZWN0XSIsImpzb24iLCJjbGFzc05hbWUiLCJ0YWdOYW1lIiwiZWwiLCJlbGVtZW50Iiwic2V0QXR0cmlidXRlIiwid3JhcHBlckNvbmZpZyIsInBhcmVudEVsZW1lbnQiLCJ3cmFwcGVyIiwiZnJvbSIsImNsYXNzTGlzdCIsImFkZCIsInJlcGxhY2VDaGlsZCIsImVsZW1lbnRzIiwid3JhcFRhZyIsInRleHQiLCJ0ZXh0Tm9kZSIsImNyZWF0ZVRleHROb2RlIiwiYnRuIiwidGhpcyIsInBsYWNlSG9sZGVyIiwiaW5wdXQiLCJwbGFjZWhvbGRlciIsIndyYXBwZWQiLCJsb2ciLCJhc3NlcnQiLCJjb250YWlucyIsImZpcnN0Q2hpbGQiLCJub3JtYWxpemUiLCJzdGFydCIsImVuZCIsImV4dHJhY3RlZCIsInNwbGl0VGV4dCIsIkNsYXNzTmFtZXMiLCJwYXJhbWV0ZXIiLCJhdHRyaWJ1dGUiLCJsaW5rIiwibm9kZSIsImNvbnRyb2wiLCJkZWxldGVCdXR0b24iLCJtZW51Iiwib3B0aW9uIiwidGl0bGUiLCJsaW1pdExlbmd0aCIsIm1heExlbmd0aCIsImV4Y2Vzc1N5bWJvbCIsInN1YnN0ciIsImFwcGx5Q1NTIiwiZmlsZU5hbWUiLCJjb25maWciLCJyZWwiLCJocmVmIiwiX2NvcmVfRWxlbWVudHNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyIsInRleHRQYXJhbWV0ZXJfVGV4dHBhcmFtZXRlckNvbnRyb2wiLCJwYXJhbWV0ZXJUeXBlIiwibmFtZXMiLCJwYXJhbWV0ZXJOb2RlcyIsInBhcmFtVHlwZSIsIm5vZGVUeXBlIiwiTm9kZSIsIlRFWFRfTk9ERSIsIndyYXBDaGlsZCIsImZpbmRJbmRleCIsInVud3JhcCIsInRleHRfcGFyYW1ldGVyX2NvbnRyb2xfVGV4dFBhcmFtZXRlciIsIm1vZGVsIiwib25EZWxldGVDYWxsYmFjayIsIm9uRGVsZXRlQ2FsbEJhY2siLCJsYWJlbCIsImJ1dHRvbiIsIm9uY2xpY2siLCJvbkRlbGV0ZSIsIndyYXAiLCJvbm1vdXNlZW50ZXIiLCJoaWdobGlnaHQiLCJvbm1vdXNlbGVhdmUiLCJ1bmhpZ2hsaWdodCIsImNsZWFyIiwicmVtb3ZlIiwicmVtb3ZlQXR0cmlidXRlIiwicGFyYW1ldGVyQ29udGFpbmVyX1BhcmFtZXRlckNvbnRhaW5lciIsInBhcmFtZXRlckNvbnRyb2xzIiwicGFyYW1ldGVyVmlld3MiLCJ2aWV3IiwicXVlcnlTZWxlY3RvciIsImluZGV4IiwiaGFzIiwiZGVsZXRlUGFyYW1ldGVyIiwibWVudV9wb3NpdGlvbl9wYWRkaW5nIiwibWVudV9NZW51IiwidGVtcGxhdGUiLCJtZW51RWxlbWVudCIsImJvZHkiLCJhZGRFdmVudExpc3RlbmVyIiwiZXZlbnQiLCJoYW5kbGVDbGljayIsIm1lbnVFbCIsImxhc3RDaGlsZCIsInJlbW92ZUNoaWxkIiwieCIsInkiLCJtYXhYIiwiZG9jdW1lbnRFbGVtZW50IiwiY2xpZW50V2lkdGgiLCJtYXhZIiwiY2xpZW50SGVpZ2h0IiwibWVudV93aWR0aCIsIm9mZnNldFdpZHRoIiwibWVudV9oZWlnaHQiLCJvZmZzZXRIZWlnaHQiLCJlbXgiLCJlbXkiLCJzdHlsZSIsImxlZnQiLCJ0b3AiLCJhZGRPcHRpb24iLCJ0YXJnZXQiLCJoaWRlTWVudSIsInBhcmFtVGV4dE9wdGlvbl9QYXJhbVRleHRPcHRpb24iLCJwYXJhbWV0ZXJDb250YWluZXIiLCJhY2NlcHRCdG4iLCJzdWJtaXQiLCJ3cmFwV2l0aFRhZyIsInBDb250YWluZXIiLCJmaW5kUGFyYW1ldGVyIiwiYWRkUGFyYW1ldGVyIiwiZXh0cmFjdFRleHQiLCJhZGROb2RlIiwiaW5uZXJUZXh0IiwidXRpbCIsInRleHRDb250ZW50Iiwic3Vic3RyaW5nIiwidCIsImNvbnRleHRtZW51X0NvbnRleHRNZW51IiwiaGFuZGxlQ29udGV4dE1lbnUiLCJiaW5kIiwidGV4dE9wdGlvbiIsImxpbmtOb2RlIiwic2V0RGF0YSIsInJlcGxhY2VNZW51T3B0aW9ucyIsInNlbGVjdGlvbiIsImFuY2hvck5vZGUiLCJmb2N1c05vZGUiLCJhbmNob3JPZmZzZXQiLCJmb2N1c09mZnNldCIsInRyaW0iLCJnZXRTZWxlY3Rpb24iLCJwcm9jZXNzU2VsZWN0aW9uIiwiYWN0aXZhdGVUZXh0TWVudSIsImFjdGl2YXRlTGlua01lbnUiLCJzaG93TWVudSIsInBvc2l0aW9uIiwiY2xpZW50WCIsImNsaWVudFkiLCJkaXNhYmxlRGVmYXVsdHMiLCJ3YWxrZXIiLCJjcmVhdGVUcmVlV2Fsa2VyIiwiTm9kZUZpbHRlciIsIlNIT1dfRUxFTUVOVCIsIm5leHROb2RlIiwiY3VycmVudE5vZGUiLCJwcmV2ZW50RGVmYXVsdCIsIl9fd2VicGFja19leHBvcnRzX18iLCJ0ZW1wbGF0ZUNvbnRhaW5lciIsImZyYW1lIiwiZ2V0QXR0cmlidXRlIiwib25sb2FkIiwiY29udGVudERvY3VtZW50IiwiX290aGVyX2Rpc2FibGVEZWZhdWx0QWN0aW9uX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18iLCJfb3RoZXJfdXRpbF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fIiwiX3BhcmFtZXRlcnNfcGFyYW1ldGVyQ29udGFpbmVyX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX18iLCJfY29udGV4dG1lbnVfY29udGV4dG1lbnVfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyJdLCJtYXBwaW5ncyI6ImFBR0EsSUFBQUEsRUFBQUMsT0FBQSxpQkFDQUEsT0FBQSxpQkFDQSxTQUFBQyxFQUFBQyxJQW9RQSxTQUFBRCxFQUFBQyxHQUNBLElBQUFDLEVBQUFGLEtBQUFHLEVBQUFILEdBQ0EsT0FFQSxRQUFBSSxLQURBRCxFQUFBSCxJQUFBLEVBQ0FDLEVBQ0FJLE9BQUFDLFVBQUFDLGVBQUFDLEtBQUFQLEVBQUFHLEtBQ0FLLEVBQUFMLEdBQUFILEVB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LFNBQUF6RCxFQUFBMEQsUUFBQTFELEVBQUEyRCxTQUdBMUosWUFBQStGLEdBQ0EsTUFBQXpELEVBQUF5RCxFQUFBc0IsT0FDQSxNQUFBL0UsRUFBQW5DLFVBQ0FtSSxFQUFBZ0IsaUJBQUFoSCxHQUNBbEIsS0FBQXFCLEtBQUE4Ryw0Q0M1RUEsU0FBQUksRUFBQTlELEdBQ0EsTUFBQStELEVBQUE5UCxTQUFBK1AsaUJBQUFoRSxFQUFBaUUsV0FBQUMsY0FDQSxLQUFBSCxFQUFBSSxZQUNBLE1BQUFKLEVBQUFLLFlBQUE5SixVQUVBdkosUUFBQTZLLElBQUFtSSxFQUFBSyxhQUNBTCxFQUFBSyxZQUFBbkUsaUJBQUEsUUFBQUMsS0FBQW1FLG1CQUdBckUsRUFBQUMsaUJBQUEsY0FBQUMsS0FBQW1FLGtCQWJBL1QsRUFBQW1KLEVBQUE2SyxFQUFBLHNCQUFBUiwwRUNLQSxNQUFBUyxFQUFBdFEsU0FBQXVMLGNBQUEsY0FHQWdGLEVBQUF2USxTQUFBRyxjQUFBLFVBQ0FvUSxFQUFBbFEsSUFBQWlRLEVBQUFFLGFBQUEsb0JBQ0FELEVBQUFoUyxHQUFBLG9CQUdBZ1MsRUFBQUUsT0FBQSxNQUNBLE1BQUE1RSxFQUFBMEUsRUFBQUcsZ0JBQ0F4VixPQUFBeVYsRUFBQSxFQUFBelYsQ0FBQTJRLEVBQUFFLE1BQ0E3USxPQUFBMFYsRUFBQSxFQUFBMVYsQ0FBQTJRLEVBQUE5TCxLQUFBLG9CQUNBN0UsT0FBQTBWLEVBQUEsRUFBQTFWLENBQUEyUSxFQUFBOUwsS0FBQSxpQkFFQSxNQUFBMk4sRUFBQSxJQUFBbUQsRUFBQSxFQUNBLElBQUFDLEVBQUEsRUFBQWpGLEVBQUE2QixLQUdBNEMsRUFBQWhRLFlBQUFpUSIsImZpbGUiOiJ0ZW1wbGF0ZUVkaXRvci5idW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHRmdW5jdGlvbiBob3REaXNwb3NlQ2h1bmsoY2h1bmtJZCkge1xuIFx0XHRkZWxldGUgaW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdO1xuIFx0fVxuIFx0dmFyIHBhcmVudEhvdFVwZGF0ZUNhbGxiYWNrID0gd2luZG93W1wid2VicGFja0hvdFVwZGF0ZVwiXTtcbiBcdHdpbmRvd1tcIndlYnBhY2tIb3RVcGRhdGVcIl0gPSAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnNcbiBcdGZ1bmN0aW9uIHdlYnBhY2tIb3RVcGRhdGVDYWxsYmFjayhjaHVua0lkLCBtb3JlTW9kdWxlcykge1xuIFx0XHRob3RBZGRVcGRhdGVDaHVuayhjaHVua0lkLCBtb3JlTW9kdWxlcyk7XG4gXHRcdGlmIChwYXJlbnRIb3RVcGRhdGVDYWxsYmFjaykgcGFyZW50SG90VXBkYXRlQ2FsbGJhY2soY2h1bmtJZCwgbW9yZU1vZHVsZXMpO1xuIFx0fSA7XG5cbiBcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFyc1xuIFx0ZnVuY3Rpb24gaG90RG93bmxvYWRVcGRhdGVDaHVuayhjaHVua0lkKSB7XG4gXHRcdHZhciBoZWFkID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJoZWFkXCIpWzBdO1xuIFx0XHR2YXIgc2NyaXB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNjcmlwdFwiKTtcbiBcdFx0c2NyaXB0LmNoYXJzZXQgPSBcInV0Zi04XCI7XG4gXHRcdHNjcmlwdC5zcmMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLnAgKyBcIlwiICsgY2h1bmtJZCArIFwiLlwiICsgaG90Q3VycmVudEhhc2ggKyBcIi5ob3QtdXBkYXRlLmpzXCI7XG4gXHRcdDtcbiBcdFx0aGVhZC5hcHBlbmRDaGlsZChzY3JpcHQpO1xuIFx0fVxuXG4gXHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnNcbiBcdGZ1bmN0aW9uIGhvdERvd25sb2FkTWFuaWZlc3QocmVxdWVzdFRpbWVvdXQpIHtcbiBcdFx0cmVxdWVzdFRpbWVvdXQgPSByZXF1ZXN0VGltZW91dCB8fCAxMDAwMDtcbiBcdFx0cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuIFx0XHRcdGlmICh0eXBlb2YgWE1MSHR0cFJlcXVlc3QgPT09IFwidW5kZWZpbmVkXCIpXG4gXHRcdFx0XHRyZXR1cm4gcmVqZWN0KG5ldyBFcnJvcihcIk5vIGJyb3dzZXIgc3VwcG9ydFwiKSk7XG4gXHRcdFx0dHJ5IHtcbiBcdFx0XHRcdHZhciByZXF1ZXN0ID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG4gXHRcdFx0XHR2YXIgcmVxdWVzdFBhdGggPSBfX3dlYnBhY2tfcmVxdWlyZV9fLnAgKyBcIlwiICsgaG90Q3VycmVudEhhc2ggKyBcIi5ob3QtdXBkYXRlLmpzb25cIjtcbiBcdFx0XHRcdHJlcXVlc3Qub3BlbihcIkdFVFwiLCByZXF1ZXN0UGF0aCwgdHJ1ZSk7XG4gXHRcdFx0XHRyZXF1ZXN0LnRpbWVvdXQgPSByZXF1ZXN0VGltZW91dDtcbiBcdFx0XHRcdHJlcXVlc3Quc2VuZChudWxsKTtcbiBcdFx0XHR9IGNhdGNoIChlcnIpIHtcbiBcdFx0XHRcdHJldHVybiByZWplY3QoZXJyKTtcbiBcdFx0XHR9XG4gXHRcdFx0cmVxdWVzdC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbigpIHtcbiBcdFx0XHRcdGlmIChyZXF1ZXN0LnJlYWR5U3RhdGUgIT09IDQpIHJldHVybjtcbiBcdFx0XHRcdGlmIChyZXF1ZXN0LnN0YXR1cyA9PT0gMCkge1xuIFx0XHRcdFx0XHQvLyB0aW1lb3V0XG4gXHRcdFx0XHRcdHJlamVjdChcbiBcdFx0XHRcdFx0XHRuZXcgRXJyb3IoXCJNYW5pZmVzdCByZXF1ZXN0IHRvIFwiICsgcmVxdWVzdFBhdGggKyBcIiB0aW1lZCBvdXQuXCIpXG4gXHRcdFx0XHRcdCk7XG4gXHRcdFx0XHR9IGVsc2UgaWYgKHJlcXVlc3Quc3RhdHVzID09PSA0MDQpIHtcbiBcdFx0XHRcdFx0Ly8gbm8gdXBkYXRlIGF2YWlsYWJsZVxuIFx0XHRcdFx0XHRyZXNvbHZlKCk7XG4gXHRcdFx0XHR9IGVsc2UgaWYgKHJlcXVlc3Quc3RhdHVzICE9PSAyMDAgJiYgcmVxdWVzdC5zdGF0dXMgIT09IDMwNCkge1xuIFx0XHRcdFx0XHQvLyBvdGhlciBmYWlsdXJlXG4gXHRcdFx0XHRcdHJlamVjdChuZXcgRXJyb3IoXCJNYW5pZmVzdCByZXF1ZXN0IHRvIFwiICsgcmVxdWVzdFBhdGggKyBcIiBmYWlsZWQuXCIpKTtcbiBcdFx0XHRcdH0gZWxzZSB7XG4gXHRcdFx0XHRcdC8vIHN1Y2Nlc3NcbiBcdFx0XHRcdFx0dHJ5IHtcbiBcdFx0XHRcdFx0XHR2YXIgdXBkYXRlID0gSlNPTi5wYXJzZShyZXF1ZXN0LnJlc3BvbnNlVGV4dCk7XG4gXHRcdFx0XHRcdH0gY2F0Y2ggKGUpIHtcbiBcdFx0XHRcdFx0XHRyZWplY3QoZSk7XG4gXHRcdFx0XHRcdFx0cmV0dXJuO1xuIFx0XHRcdFx0XHR9XG4gXHRcdFx0XHRcdHJlc29sdmUodXBkYXRlKTtcbiBcdFx0XHRcdH1cbiBcdFx0XHR9O1xuIFx0XHR9KTtcbiBcdH1cblxuIFx0dmFyIGhvdEFwcGx5T25VcGRhdGUgPSB0cnVlO1xuIFx0dmFyIGhvdEN1cnJlbnRIYXNoID0gXCIzNTEwYWI2MDAzNTNiYWU0MTkzZFwiOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXG4gXHR2YXIgaG90UmVxdWVzdFRpbWVvdXQgPSAxMDAwMDtcbiBcdHZhciBob3RDdXJyZW50TW9kdWxlRGF0YSA9IHt9O1xuIFx0dmFyIGhvdEN1cnJlbnRDaGlsZE1vZHVsZTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xuIFx0dmFyIGhvdEN1cnJlbnRQYXJlbnRzID0gW107IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcbiBcdHZhciBob3RDdXJyZW50UGFyZW50c1RlbXAgPSBbXTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xuXG4gXHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnNcbiBcdGZ1bmN0aW9uIGhvdENyZWF0ZVJlcXVpcmUobW9kdWxlSWQpIHtcbiBcdFx0dmFyIG1lID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF07XG4gXHRcdGlmICghbWUpIHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fO1xuIFx0XHR2YXIgZm4gPSBmdW5jdGlvbihyZXF1ZXN0KSB7XG4gXHRcdFx0aWYgKG1lLmhvdC5hY3RpdmUpIHtcbiBcdFx0XHRcdGlmIChpbnN0YWxsZWRNb2R1bGVzW3JlcXVlc3RdKSB7XG4gXHRcdFx0XHRcdGlmIChpbnN0YWxsZWRNb2R1bGVzW3JlcXVlc3RdLnBhcmVudHMuaW5kZXhPZihtb2R1bGVJZCkgPT09IC0xKVxuIFx0XHRcdFx0XHRcdGluc3RhbGxlZE1vZHVsZXNbcmVxdWVzdF0ucGFyZW50cy5wdXNoKG1vZHVsZUlkKTtcbiBcdFx0XHRcdH0gZWxzZSB7XG4gXHRcdFx0XHRcdGhvdEN1cnJlbnRQYXJlbnRzID0gW21vZHVsZUlkXTtcbiBcdFx0XHRcdFx0aG90Q3VycmVudENoaWxkTW9kdWxlID0gcmVxdWVzdDtcbiBcdFx0XHRcdH1cbiBcdFx0XHRcdGlmIChtZS5jaGlsZHJlbi5pbmRleE9mKHJlcXVlc3QpID09PSAtMSkgbWUuY2hpbGRyZW4ucHVzaChyZXF1ZXN0KTtcbiBcdFx0XHR9IGVsc2Uge1xuIFx0XHRcdFx0Y29uc29sZS53YXJuKFxuIFx0XHRcdFx0XHRcIltITVJdIHVuZXhwZWN0ZWQgcmVxdWlyZShcIiArXG4gXHRcdFx0XHRcdFx0cmVxdWVzdCArXG4gXHRcdFx0XHRcdFx0XCIpIGZyb20gZGlzcG9zZWQgbW9kdWxlIFwiICtcbiBcdFx0XHRcdFx0XHRtb2R1bGVJZFxuIFx0XHRcdFx0KTtcbiBcdFx0XHRcdGhvdEN1cnJlbnRQYXJlbnRzID0gW107XG4gXHRcdFx0fVxuIFx0XHRcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKHJlcXVlc3QpO1xuIFx0XHR9O1xuIFx0XHR2YXIgT2JqZWN0RmFjdG9yeSA9IGZ1bmN0aW9uIE9iamVjdEZhY3RvcnkobmFtZSkge1xuIFx0XHRcdHJldHVybiB7XG4gXHRcdFx0XHRjb25maWd1cmFibGU6IHRydWUsXG4gXHRcdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuIFx0XHRcdFx0Z2V0OiBmdW5jdGlvbigpIHtcbiBcdFx0XHRcdFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX19bbmFtZV07XG4gXHRcdFx0XHR9LFxuIFx0XHRcdFx0c2V0OiBmdW5jdGlvbih2YWx1ZSkge1xuIFx0XHRcdFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fW25hbWVdID0gdmFsdWU7XG4gXHRcdFx0XHR9XG4gXHRcdFx0fTtcbiBcdFx0fTtcbiBcdFx0Zm9yICh2YXIgbmFtZSBpbiBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG4gXHRcdFx0aWYgKFxuIFx0XHRcdFx0T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKF9fd2VicGFja19yZXF1aXJlX18sIG5hbWUpICYmXG4gXHRcdFx0XHRuYW1lICE9PSBcImVcIlxuIFx0XHRcdCkge1xuIFx0XHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGZuLCBuYW1lLCBPYmplY3RGYWN0b3J5KG5hbWUpKTtcbiBcdFx0XHR9XG4gXHRcdH1cbiBcdFx0Zm4uZSA9IGZ1bmN0aW9uKGNodW5rSWQpIHtcbiBcdFx0XHRpZiAoaG90U3RhdHVzID09PSBcInJlYWR5XCIpIGhvdFNldFN0YXR1cyhcInByZXBhcmVcIik7XG4gXHRcdFx0aG90Q2h1bmtzTG9hZGluZysrO1xuIFx0XHRcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fLmUoY2h1bmtJZCkudGhlbihmaW5pc2hDaHVua0xvYWRpbmcsIGZ1bmN0aW9uKGVycikge1xuIFx0XHRcdFx0ZmluaXNoQ2h1bmtMb2FkaW5nKCk7XG4gXHRcdFx0XHR0aHJvdyBlcnI7XG4gXHRcdFx0fSk7XG5cbiBcdFx0XHRmdW5jdGlvbiBmaW5pc2hDaHVua0xvYWRpbmcoKSB7XG4gXHRcdFx0XHRob3RDaHVua3NMb2FkaW5nLS07XG4gXHRcdFx0XHRpZiAoaG90U3RhdHVzID09PSBcInByZXBhcmVcIikge1xuIFx0XHRcdFx0XHRpZiAoIWhvdFdhaXRpbmdGaWxlc01hcFtjaHVua0lkXSkge1xuIFx0XHRcdFx0XHRcdGhvdEVuc3VyZVVwZGF0ZUNodW5rKGNodW5rSWQpO1xuIFx0XHRcdFx0XHR9XG4gXHRcdFx0XHRcdGlmIChob3RDaHVua3NMb2FkaW5nID09PSAwICYmIGhvdFdhaXRpbmdGaWxlcyA9PT0gMCkge1xuIFx0XHRcdFx0XHRcdGhvdFVwZGF0ZURvd25sb2FkZWQoKTtcbiBcdFx0XHRcdFx0fVxuIFx0XHRcdFx0fVxuIFx0XHRcdH1cbiBcdFx0fTtcbiBcdFx0cmV0dXJuIGZuO1xuIFx0fVxuXG4gXHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnNcbiBcdGZ1bmN0aW9uIGhvdENyZWF0ZU1vZHVsZShtb2R1bGVJZCkge1xuIFx0XHR2YXIgaG90ID0ge1xuIFx0XHRcdC8vIHByaXZhdGUgc3R1ZmZcbiBcdFx0XHRfYWNjZXB0ZWREZXBlbmRlbmNpZXM6IHt9LFxuIFx0XHRcdF9kZWNsaW5lZERlcGVuZGVuY2llczoge30sXG4gXHRcdFx0X3NlbGZBY2NlcHRlZDogZmFsc2UsXG4gXHRcdFx0X3NlbGZEZWNsaW5lZDogZmFsc2UsXG4gXHRcdFx0X2Rpc3Bvc2VIYW5kbGVyczogW10sXG4gXHRcdFx0X21haW46IGhvdEN1cnJlbnRDaGlsZE1vZHVsZSAhPT0gbW9kdWxlSWQsXG5cbiBcdFx0XHQvLyBNb2R1bGUgQVBJXG4gXHRcdFx0YWN0aXZlOiB0cnVlLFxuIFx0XHRcdGFjY2VwdDogZnVuY3Rpb24oZGVwLCBjYWxsYmFjaykge1xuIFx0XHRcdFx0aWYgKHR5cGVvZiBkZXAgPT09IFwidW5kZWZpbmVkXCIpIGhvdC5fc2VsZkFjY2VwdGVkID0gdHJ1ZTtcbiBcdFx0XHRcdGVsc2UgaWYgKHR5cGVvZiBkZXAgPT09IFwiZnVuY3Rpb25cIikgaG90Ll9zZWxmQWNjZXB0ZWQgPSBkZXA7XG4gXHRcdFx0XHRlbHNlIGlmICh0eXBlb2YgZGVwID09PSBcIm9iamVjdFwiKVxuIFx0XHRcdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IGRlcC5sZW5ndGg7IGkrKylcbiBcdFx0XHRcdFx0XHRob3QuX2FjY2VwdGVkRGVwZW5kZW5jaWVzW2RlcFtpXV0gPSBjYWxsYmFjayB8fCBmdW5jdGlvbigpIHt9O1xuIFx0XHRcdFx0ZWxzZSBob3QuX2FjY2VwdGVkRGVwZW5kZW5jaWVzW2RlcF0gPSBjYWxsYmFjayB8fCBmdW5jdGlvbigpIHt9O1xuIFx0XHRcdH0sXG4gXHRcdFx0ZGVjbGluZTogZnVuY3Rpb24oZGVwKSB7XG4gXHRcdFx0XHRpZiAodHlwZW9mIGRlcCA9PT0gXCJ1bmRlZmluZWRcIikgaG90Ll9zZWxmRGVjbGluZWQgPSB0cnVlO1xuIFx0XHRcdFx0ZWxzZSBpZiAodHlwZW9mIGRlcCA9PT0gXCJvYmplY3RcIilcbiBcdFx0XHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBkZXAubGVuZ3RoOyBpKyspXG4gXHRcdFx0XHRcdFx0aG90Ll9kZWNsaW5lZERlcGVuZGVuY2llc1tkZXBbaV1dID0gdHJ1ZTtcbiBcdFx0XHRcdGVsc2UgaG90Ll9kZWNsaW5lZERlcGVuZGVuY2llc1tkZXBdID0gdHJ1ZTtcbiBcdFx0XHR9LFxuIFx0XHRcdGRpc3Bvc2U6IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG4gXHRcdFx0XHRob3QuX2Rpc3Bvc2VIYW5kbGVycy5wdXNoKGNhbGxiYWNrKTtcbiBcdFx0XHR9LFxuIFx0XHRcdGFkZERpc3Bvc2VIYW5kbGVyOiBmdW5jdGlvbihjYWxsYmFjaykge1xuIFx0XHRcdFx0aG90Ll9kaXNwb3NlSGFuZGxlcnMucHVzaChjYWxsYmFjayk7XG4gXHRcdFx0fSxcbiBcdFx0XHRyZW1vdmVEaXNwb3NlSGFuZGxlcjogZnVuY3Rpb24oY2FsbGJhY2spIHtcbiBcdFx0XHRcdHZhciBpZHggPSBob3QuX2Rpc3Bvc2VIYW5kbGVycy5pbmRleE9mKGNhbGxiYWNrKTtcbiBcdFx0XHRcdGlmIChpZHggPj0gMCkgaG90Ll9kaXNwb3NlSGFuZGxlcnMuc3BsaWNlKGlkeCwgMSk7XG4gXHRcdFx0fSxcblxuIFx0XHRcdC8vIE1hbmFnZW1lbnQgQVBJXG4gXHRcdFx0Y2hlY2s6IGhvdENoZWNrLFxuIFx0XHRcdGFwcGx5OiBob3RBcHBseSxcbiBcdFx0XHRzdGF0dXM6IGZ1bmN0aW9uKGwpIHtcbiBcdFx0XHRcdGlmICghbCkgcmV0dXJuIGhvdFN0YXR1cztcbiBcdFx0XHRcdGhvdFN0YXR1c0hhbmRsZXJzLnB1c2gobCk7XG4gXHRcdFx0fSxcbiBcdFx0XHRhZGRTdGF0dXNIYW5kbGVyOiBmdW5jdGlvbihsKSB7XG4gXHRcdFx0XHRob3RTdGF0dXNIYW5kbGVycy5wdXNoKGwpO1xuIFx0XHRcdH0sXG4gXHRcdFx0cmVtb3ZlU3RhdHVzSGFuZGxlcjogZnVuY3Rpb24obCkge1xuIFx0XHRcdFx0dmFyIGlkeCA9IGhvdFN0YXR1c0hhbmRsZXJzLmluZGV4T2YobCk7XG4gXHRcdFx0XHRpZiAoaWR4ID49IDApIGhvdFN0YXR1c0hhbmRsZXJzLnNwbGljZShpZHgsIDEpO1xuIFx0XHRcdH0sXG5cbiBcdFx0XHQvL2luaGVyaXQgZnJvbSBwcmV2aW91cyBkaXNwb3NlIGNhbGxcbiBcdFx0XHRkYXRhOiBob3RDdXJyZW50TW9kdWxlRGF0YVttb2R1bGVJZF1cbiBcdFx0fTtcbiBcdFx0aG90Q3VycmVudENoaWxkTW9kdWxlID0gdW5kZWZpbmVkO1xuIFx0XHRyZXR1cm4gaG90O1xuIFx0fVxuXG4gXHR2YXIgaG90U3RhdHVzSGFuZGxlcnMgPSBbXTtcbiBcdHZhciBob3RTdGF0dXMgPSBcImlkbGVcIjtcblxuIFx0ZnVuY3Rpb24gaG90U2V0U3RhdHVzKG5ld1N0YXR1cykge1xuIFx0XHRob3RTdGF0dXMgPSBuZXdTdGF0dXM7XG4gXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgaG90U3RhdHVzSGFuZGxlcnMubGVuZ3RoOyBpKyspXG4gXHRcdFx0aG90U3RhdHVzSGFuZGxlcnNbaV0uY2FsbChudWxsLCBuZXdTdGF0dXMpO1xuIFx0fVxuXG4gXHQvLyB3aGlsZSBkb3dubG9hZGluZ1xuIFx0dmFyIGhvdFdhaXRpbmdGaWxlcyA9IDA7XG4gXHR2YXIgaG90Q2h1bmtzTG9hZGluZyA9IDA7XG4gXHR2YXIgaG90V2FpdGluZ0ZpbGVzTWFwID0ge307XG4gXHR2YXIgaG90UmVxdWVzdGVkRmlsZXNNYXAgPSB7fTtcbiBcdHZhciBob3RBdmFpbGFibGVGaWxlc01hcCA9IHt9O1xuIFx0dmFyIGhvdERlZmVycmVkO1xuXG4gXHQvLyBUaGUgdXBkYXRlIGluZm9cbiBcdHZhciBob3RVcGRhdGUsIGhvdFVwZGF0ZU5ld0hhc2g7XG5cbiBcdGZ1bmN0aW9uIHRvTW9kdWxlSWQoaWQpIHtcbiBcdFx0dmFyIGlzTnVtYmVyID0gK2lkICsgXCJcIiA9PT0gaWQ7XG4gXHRcdHJldHVybiBpc051bWJlciA/ICtpZCA6IGlkO1xuIFx0fVxuXG4gXHRmdW5jdGlvbiBob3RDaGVjayhhcHBseSkge1xuIFx0XHRpZiAoaG90U3RhdHVzICE9PSBcImlkbGVcIilcbiBcdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJjaGVjaygpIGlzIG9ubHkgYWxsb3dlZCBpbiBpZGxlIHN0YXR1c1wiKTtcbiBcdFx0aG90QXBwbHlPblVwZGF0ZSA9IGFwcGx5O1xuIFx0XHRob3RTZXRTdGF0dXMoXCJjaGVja1wiKTtcbiBcdFx0cmV0dXJuIGhvdERvd25sb2FkTWFuaWZlc3QoaG90UmVxdWVzdFRpbWVvdXQpLnRoZW4oZnVuY3Rpb24odXBkYXRlKSB7XG4gXHRcdFx0aWYgKCF1cGRhdGUpIHtcbiBcdFx0XHRcdGhvdFNldFN0YXR1cyhcImlkbGVcIik7XG4gXHRcdFx0XHRyZXR1cm4gbnVsbDtcbiBcdFx0XHR9XG4gXHRcdFx0aG90UmVxdWVzdGVkRmlsZXNNYXAgPSB7fTtcbiBcdFx0XHRob3RXYWl0aW5nRmlsZXNNYXAgPSB7fTtcbiBcdFx0XHRob3RBdmFpbGFibGVGaWxlc01hcCA9IHVwZGF0ZS5jO1xuIFx0XHRcdGhvdFVwZGF0ZU5ld0hhc2ggPSB1cGRhdGUuaDtcblxuIFx0XHRcdGhvdFNldFN0YXR1cyhcInByZXBhcmVcIik7XG4gXHRcdFx0dmFyIHByb21pc2UgPSBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiBcdFx0XHRcdGhvdERlZmVycmVkID0ge1xuIFx0XHRcdFx0XHRyZXNvbHZlOiByZXNvbHZlLFxuIFx0XHRcdFx0XHRyZWplY3Q6IHJlamVjdFxuIFx0XHRcdFx0fTtcbiBcdFx0XHR9KTtcbiBcdFx0XHRob3RVcGRhdGUgPSB7fTtcbiBcdFx0XHR2YXIgY2h1bmtJZCA9IDE7XG4gXHRcdFx0e1xuIFx0XHRcdFx0Ly8gZXNsaW50LWRpc2FibGUtbGluZSBuby1sb25lLWJsb2Nrc1xuIFx0XHRcdFx0LypnbG9iYWxzIGNodW5rSWQgKi9cbiBcdFx0XHRcdGhvdEVuc3VyZVVwZGF0ZUNodW5rKGNodW5rSWQpO1xuIFx0XHRcdH1cbiBcdFx0XHRpZiAoXG4gXHRcdFx0XHRob3RTdGF0dXMgPT09IFwicHJlcGFyZVwiICYmXG4gXHRcdFx0XHRob3RDaHVua3NMb2FkaW5nID09PSAwICYmXG4gXHRcdFx0XHRob3RXYWl0aW5nRmlsZXMgPT09IDBcbiBcdFx0XHQpIHtcbiBcdFx0XHRcdGhvdFVwZGF0ZURvd25sb2FkZWQoKTtcbiBcdFx0XHR9XG4gXHRcdFx0cmV0dXJuIHByb21pc2U7XG4gXHRcdH0pO1xuIFx0fVxuXG4gXHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnNcbiBcdGZ1bmN0aW9uIGhvdEFkZFVwZGF0ZUNodW5rKGNodW5rSWQsIG1vcmVNb2R1bGVzKSB7XG4gXHRcdGlmICghaG90QXZhaWxhYmxlRmlsZXNNYXBbY2h1bmtJZF0gfHwgIWhvdFJlcXVlc3RlZEZpbGVzTWFwW2NodW5rSWRdKVxuIFx0XHRcdHJldHVybjtcbiBcdFx0aG90UmVxdWVzdGVkRmlsZXNNYXBbY2h1bmtJZF0gPSBmYWxzZTtcbiBcdFx0Zm9yICh2YXIgbW9kdWxlSWQgaW4gbW9yZU1vZHVsZXMpIHtcbiBcdFx0XHRpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG1vcmVNb2R1bGVzLCBtb2R1bGVJZCkpIHtcbiBcdFx0XHRcdGhvdFVwZGF0ZVttb2R1bGVJZF0gPSBtb3JlTW9kdWxlc1ttb2R1bGVJZF07XG4gXHRcdFx0fVxuIFx0XHR9XG4gXHRcdGlmICgtLWhvdFdhaXRpbmdGaWxlcyA9PT0gMCAmJiBob3RDaHVua3NMb2FkaW5nID09PSAwKSB7XG4gXHRcdFx0aG90VXBkYXRlRG93bmxvYWRlZCgpO1xuIFx0XHR9XG4gXHR9XG5cbiBcdGZ1bmN0aW9uIGhvdEVuc3VyZVVwZGF0ZUNodW5rKGNodW5rSWQpIHtcbiBcdFx0aWYgKCFob3RBdmFpbGFibGVGaWxlc01hcFtjaHVua0lkXSkge1xuIFx0XHRcdGhvdFdhaXRpbmdGaWxlc01hcFtjaHVua0lkXSA9IHRydWU7XG4gXHRcdH0gZWxzZSB7XG4gXHRcdFx0aG90UmVxdWVzdGVkRmlsZXNNYXBbY2h1bmtJZF0gPSB0cnVlO1xuIFx0XHRcdGhvdFdhaXRpbmdGaWxlcysrO1xuIFx0XHRcdGhvdERvd25sb2FkVXBkYXRlQ2h1bmsoY2h1bmtJZCk7XG4gXHRcdH1cbiBcdH1cblxuIFx0ZnVuY3Rpb24gaG90VXBkYXRlRG93bmxvYWRlZCgpIHtcbiBcdFx0aG90U2V0U3RhdHVzKFwicmVhZHlcIik7XG4gXHRcdHZhciBkZWZlcnJlZCA9IGhvdERlZmVycmVkO1xuIFx0XHRob3REZWZlcnJlZCA9IG51bGw7XG4gXHRcdGlmICghZGVmZXJyZWQpIHJldHVybjtcbiBcdFx0aWYgKGhvdEFwcGx5T25VcGRhdGUpIHtcbiBcdFx0XHQvLyBXcmFwIGRlZmVycmVkIG9iamVjdCBpbiBQcm9taXNlIHRvIG1hcmsgaXQgYXMgYSB3ZWxsLWhhbmRsZWQgUHJvbWlzZSB0b1xuIFx0XHRcdC8vIGF2b2lkIHRyaWdnZXJpbmcgdW5jYXVnaHQgZXhjZXB0aW9uIHdhcm5pbmcgaW4gQ2hyb21lLlxuIFx0XHRcdC8vIFNlZSBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD00NjU2NjZcbiBcdFx0XHRQcm9taXNlLnJlc29sdmUoKVxuIFx0XHRcdFx0LnRoZW4oZnVuY3Rpb24oKSB7XG4gXHRcdFx0XHRcdHJldHVybiBob3RBcHBseShob3RBcHBseU9uVXBkYXRlKTtcbiBcdFx0XHRcdH0pXG4gXHRcdFx0XHQudGhlbihcbiBcdFx0XHRcdFx0ZnVuY3Rpb24ocmVzdWx0KSB7XG4gXHRcdFx0XHRcdFx0ZGVmZXJyZWQucmVzb2x2ZShyZXN1bHQpO1xuIFx0XHRcdFx0XHR9LFxuIFx0XHRcdFx0XHRmdW5jdGlvbihlcnIpIHtcbiBcdFx0XHRcdFx0XHRkZWZlcnJlZC5yZWplY3QoZXJyKTtcbiBcdFx0XHRcdFx0fVxuIFx0XHRcdFx0KTtcbiBcdFx0fSBlbHNlIHtcbiBcdFx0XHR2YXIgb3V0ZGF0ZWRNb2R1bGVzID0gW107XG4gXHRcdFx0Zm9yICh2YXIgaWQgaW4gaG90VXBkYXRlKSB7XG4gXHRcdFx0XHRpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGhvdFVwZGF0ZSwgaWQpKSB7XG4gXHRcdFx0XHRcdG91dGRhdGVkTW9kdWxlcy5wdXNoKHRvTW9kdWxlSWQoaWQpKTtcbiBcdFx0XHRcdH1cbiBcdFx0XHR9XG4gXHRcdFx0ZGVmZXJyZWQucmVzb2x2ZShvdXRkYXRlZE1vZHVsZXMpO1xuIFx0XHR9XG4gXHR9XG5cbiBcdGZ1bmN0aW9uIGhvdEFwcGx5KG9wdGlvbnMpIHtcbiBcdFx0aWYgKGhvdFN0YXR1cyAhPT0gXCJyZWFkeVwiKVxuIFx0XHRcdHRocm93IG5ldyBFcnJvcihcImFwcGx5KCkgaXMgb25seSBhbGxvd2VkIGluIHJlYWR5IHN0YXR1c1wiKTtcbiBcdFx0b3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cbiBcdFx0dmFyIGNiO1xuIFx0XHR2YXIgaTtcbiBcdFx0dmFyIGo7XG4gXHRcdHZhciBtb2R1bGU7XG4gXHRcdHZhciBtb2R1bGVJZDtcblxuIFx0XHRmdW5jdGlvbiBnZXRBZmZlY3RlZFN0dWZmKHVwZGF0ZU1vZHVsZUlkKSB7XG4gXHRcdFx0dmFyIG91dGRhdGVkTW9kdWxlcyA9IFt1cGRhdGVNb2R1bGVJZF07XG4gXHRcdFx0dmFyIG91dGRhdGVkRGVwZW5kZW5jaWVzID0ge307XG5cbiBcdFx0XHR2YXIgcXVldWUgPSBvdXRkYXRlZE1vZHVsZXMuc2xpY2UoKS5tYXAoZnVuY3Rpb24oaWQpIHtcbiBcdFx0XHRcdHJldHVybiB7XG4gXHRcdFx0XHRcdGNoYWluOiBbaWRdLFxuIFx0XHRcdFx0XHRpZDogaWRcbiBcdFx0XHRcdH07XG4gXHRcdFx0fSk7XG4gXHRcdFx0d2hpbGUgKHF1ZXVlLmxlbmd0aCA+IDApIHtcbiBcdFx0XHRcdHZhciBxdWV1ZUl0ZW0gPSBxdWV1ZS5wb3AoKTtcbiBcdFx0XHRcdHZhciBtb2R1bGVJZCA9IHF1ZXVlSXRlbS5pZDtcbiBcdFx0XHRcdHZhciBjaGFpbiA9IHF1ZXVlSXRlbS5jaGFpbjtcbiBcdFx0XHRcdG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdO1xuIFx0XHRcdFx0aWYgKCFtb2R1bGUgfHwgbW9kdWxlLmhvdC5fc2VsZkFjY2VwdGVkKSBjb250aW51ZTtcbiBcdFx0XHRcdGlmIChtb2R1bGUuaG90Ll9zZWxmRGVjbGluZWQpIHtcbiBcdFx0XHRcdFx0cmV0dXJuIHtcbiBcdFx0XHRcdFx0XHR0eXBlOiBcInNlbGYtZGVjbGluZWRcIixcbiBcdFx0XHRcdFx0XHRjaGFpbjogY2hhaW4sXG4gXHRcdFx0XHRcdFx0bW9kdWxlSWQ6IG1vZHVsZUlkXG4gXHRcdFx0XHRcdH07XG4gXHRcdFx0XHR9XG4gXHRcdFx0XHRpZiAobW9kdWxlLmhvdC5fbWFpbikge1xuIFx0XHRcdFx0XHRyZXR1cm4ge1xuIFx0XHRcdFx0XHRcdHR5cGU6IFwidW5hY2NlcHRlZFwiLFxuIFx0XHRcdFx0XHRcdGNoYWluOiBjaGFpbixcbiBcdFx0XHRcdFx0XHRtb2R1bGVJZDogbW9kdWxlSWRcbiBcdFx0XHRcdFx0fTtcbiBcdFx0XHRcdH1cbiBcdFx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgbW9kdWxlLnBhcmVudHMubGVuZ3RoOyBpKyspIHtcbiBcdFx0XHRcdFx0dmFyIHBhcmVudElkID0gbW9kdWxlLnBhcmVudHNbaV07XG4gXHRcdFx0XHRcdHZhciBwYXJlbnQgPSBpbnN0YWxsZWRNb2R1bGVzW3BhcmVudElkXTtcbiBcdFx0XHRcdFx0aWYgKCFwYXJlbnQpIGNvbnRpbnVlO1xuIFx0XHRcdFx0XHRpZiAocGFyZW50LmhvdC5fZGVjbGluZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0XHRcdFx0cmV0dXJuIHtcbiBcdFx0XHRcdFx0XHRcdHR5cGU6IFwiZGVjbGluZWRcIixcbiBcdFx0XHRcdFx0XHRcdGNoYWluOiBjaGFpbi5jb25jYXQoW3BhcmVudElkXSksXG4gXHRcdFx0XHRcdFx0XHRtb2R1bGVJZDogbW9kdWxlSWQsXG4gXHRcdFx0XHRcdFx0XHRwYXJlbnRJZDogcGFyZW50SWRcbiBcdFx0XHRcdFx0XHR9O1xuIFx0XHRcdFx0XHR9XG4gXHRcdFx0XHRcdGlmIChvdXRkYXRlZE1vZHVsZXMuaW5kZXhPZihwYXJlbnRJZCkgIT09IC0xKSBjb250aW51ZTtcbiBcdFx0XHRcdFx0aWYgKHBhcmVudC5ob3QuX2FjY2VwdGVkRGVwZW5kZW5jaWVzW21vZHVsZUlkXSkge1xuIFx0XHRcdFx0XHRcdGlmICghb3V0ZGF0ZWREZXBlbmRlbmNpZXNbcGFyZW50SWRdKVxuIFx0XHRcdFx0XHRcdFx0b3V0ZGF0ZWREZXBlbmRlbmNpZXNbcGFyZW50SWRdID0gW107XG4gXHRcdFx0XHRcdFx0YWRkQWxsVG9TZXQob3V0ZGF0ZWREZXBlbmRlbmNpZXNbcGFyZW50SWRdLCBbbW9kdWxlSWRdKTtcbiBcdFx0XHRcdFx0XHRjb250aW51ZTtcbiBcdFx0XHRcdFx0fVxuIFx0XHRcdFx0XHRkZWxldGUgb3V0ZGF0ZWREZXBlbmRlbmNpZXNbcGFyZW50SWRdO1xuIFx0XHRcdFx0XHRvdXRkYXRlZE1vZHVsZXMucHVzaChwYXJlbnRJZCk7XG4gXHRcdFx0XHRcdHF1ZXVlLnB1c2goe1xuIFx0XHRcdFx0XHRcdGNoYWluOiBjaGFpbi5jb25jYXQoW3BhcmVudElkXSksXG4gXHRcdFx0XHRcdFx0aWQ6IHBhcmVudElkXG4gXHRcdFx0XHRcdH0pO1xuIFx0XHRcdFx0fVxuIFx0XHRcdH1cblxuIFx0XHRcdHJldHVybiB7XG4gXHRcdFx0XHR0eXBlOiBcImFjY2VwdGVkXCIsXG4gXHRcdFx0XHRtb2R1bGVJZDogdXBkYXRlTW9kdWxlSWQsXG4gXHRcdFx0XHRvdXRkYXRlZE1vZHVsZXM6IG91dGRhdGVkTW9kdWxlcyxcbiBcdFx0XHRcdG91dGRhdGVkRGVwZW5kZW5jaWVzOiBvdXRkYXRlZERlcGVuZGVuY2llc1xuIFx0XHRcdH07XG4gXHRcdH1cblxuIFx0XHRmdW5jdGlvbiBhZGRBbGxUb1NldChhLCBiKSB7XG4gXHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBiLmxlbmd0aDsgaSsrKSB7XG4gXHRcdFx0XHR2YXIgaXRlbSA9IGJbaV07XG4gXHRcdFx0XHRpZiAoYS5pbmRleE9mKGl0ZW0pID09PSAtMSkgYS5wdXNoKGl0ZW0pO1xuIFx0XHRcdH1cbiBcdFx0fVxuXG4gXHRcdC8vIGF0IGJlZ2luIGFsbCB1cGRhdGVzIG1vZHVsZXMgYXJlIG91dGRhdGVkXG4gXHRcdC8vIHRoZSBcIm91dGRhdGVkXCIgc3RhdHVzIGNhbiBwcm9wYWdhdGUgdG8gcGFyZW50cyBpZiB0aGV5IGRvbid0IGFjY2VwdCB0aGUgY2hpbGRyZW5cbiBcdFx0dmFyIG91dGRhdGVkRGVwZW5kZW5jaWVzID0ge307XG4gXHRcdHZhciBvdXRkYXRlZE1vZHVsZXMgPSBbXTtcbiBcdFx0dmFyIGFwcGxpZWRVcGRhdGUgPSB7fTtcblxuIFx0XHR2YXIgd2FyblVuZXhwZWN0ZWRSZXF1aXJlID0gZnVuY3Rpb24gd2FyblVuZXhwZWN0ZWRSZXF1aXJlKCkge1xuIFx0XHRcdGNvbnNvbGUud2FybihcbiBcdFx0XHRcdFwiW0hNUl0gdW5leHBlY3RlZCByZXF1aXJlKFwiICsgcmVzdWx0Lm1vZHVsZUlkICsgXCIpIHRvIGRpc3Bvc2VkIG1vZHVsZVwiXG4gXHRcdFx0KTtcbiBcdFx0fTtcblxuIFx0XHRmb3IgKHZhciBpZCBpbiBob3RVcGRhdGUpIHtcbiBcdFx0XHRpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGhvdFVwZGF0ZSwgaWQpKSB7XG4gXHRcdFx0XHRtb2R1bGVJZCA9IHRvTW9kdWxlSWQoaWQpO1xuIFx0XHRcdFx0dmFyIHJlc3VsdDtcbiBcdFx0XHRcdGlmIChob3RVcGRhdGVbaWRdKSB7XG4gXHRcdFx0XHRcdHJlc3VsdCA9IGdldEFmZmVjdGVkU3R1ZmYobW9kdWxlSWQpO1xuIFx0XHRcdFx0fSBlbHNlIHtcbiBcdFx0XHRcdFx0cmVzdWx0ID0ge1xuIFx0XHRcdFx0XHRcdHR5cGU6IFwiZGlzcG9zZWRcIixcbiBcdFx0XHRcdFx0XHRtb2R1bGVJZDogaWRcbiBcdFx0XHRcdFx0fTtcbiBcdFx0XHRcdH1cbiBcdFx0XHRcdHZhciBhYm9ydEVycm9yID0gZmFsc2U7XG4gXHRcdFx0XHR2YXIgZG9BcHBseSA9IGZhbHNlO1xuIFx0XHRcdFx0dmFyIGRvRGlzcG9zZSA9IGZhbHNlO1xuIFx0XHRcdFx0dmFyIGNoYWluSW5mbyA9IFwiXCI7XG4gXHRcdFx0XHRpZiAocmVzdWx0LmNoYWluKSB7XG4gXHRcdFx0XHRcdGNoYWluSW5mbyA9IFwiXFxuVXBkYXRlIHByb3BhZ2F0aW9uOiBcIiArIHJlc3VsdC5jaGFpbi5qb2luKFwiIC0+IFwiKTtcbiBcdFx0XHRcdH1cbiBcdFx0XHRcdHN3aXRjaCAocmVzdWx0LnR5cGUpIHtcbiBcdFx0XHRcdFx0Y2FzZSBcInNlbGYtZGVjbGluZWRcIjpcbiBcdFx0XHRcdFx0XHRpZiAob3B0aW9ucy5vbkRlY2xpbmVkKSBvcHRpb25zLm9uRGVjbGluZWQocmVzdWx0KTtcbiBcdFx0XHRcdFx0XHRpZiAoIW9wdGlvbnMuaWdub3JlRGVjbGluZWQpXG4gXHRcdFx0XHRcdFx0XHRhYm9ydEVycm9yID0gbmV3IEVycm9yKFxuIFx0XHRcdFx0XHRcdFx0XHRcIkFib3J0ZWQgYmVjYXVzZSBvZiBzZWxmIGRlY2xpbmU6IFwiICtcbiBcdFx0XHRcdFx0XHRcdFx0XHRyZXN1bHQubW9kdWxlSWQgK1xuIFx0XHRcdFx0XHRcdFx0XHRcdGNoYWluSW5mb1xuIFx0XHRcdFx0XHRcdFx0KTtcbiBcdFx0XHRcdFx0XHRicmVhaztcbiBcdFx0XHRcdFx0Y2FzZSBcImRlY2xpbmVkXCI6XG4gXHRcdFx0XHRcdFx0aWYgKG9wdGlvbnMub25EZWNsaW5lZCkgb3B0aW9ucy5vbkRlY2xpbmVkKHJlc3VsdCk7XG4gXHRcdFx0XHRcdFx0aWYgKCFvcHRpb25zLmlnbm9yZURlY2xpbmVkKVxuIFx0XHRcdFx0XHRcdFx0YWJvcnRFcnJvciA9IG5ldyBFcnJvcihcbiBcdFx0XHRcdFx0XHRcdFx0XCJBYm9ydGVkIGJlY2F1c2Ugb2YgZGVjbGluZWQgZGVwZW5kZW5jeTogXCIgK1xuIFx0XHRcdFx0XHRcdFx0XHRcdHJlc3VsdC5tb2R1bGVJZCArXG4gXHRcdFx0XHRcdFx0XHRcdFx0XCIgaW4gXCIgK1xuIFx0XHRcdFx0XHRcdFx0XHRcdHJlc3VsdC5wYXJlbnRJZCArXG4gXHRcdFx0XHRcdFx0XHRcdFx0Y2hhaW5JbmZvXG4gXHRcdFx0XHRcdFx0XHQpO1xuIFx0XHRcdFx0XHRcdGJyZWFrO1xuIFx0XHRcdFx0XHRjYXNlIFwidW5hY2NlcHRlZFwiOlxuIFx0XHRcdFx0XHRcdGlmIChvcHRpb25zLm9uVW5hY2NlcHRlZCkgb3B0aW9ucy5vblVuYWNjZXB0ZWQocmVzdWx0KTtcbiBcdFx0XHRcdFx0XHRpZiAoIW9wdGlvbnMuaWdub3JlVW5hY2NlcHRlZClcbiBcdFx0XHRcdFx0XHRcdGFib3J0RXJyb3IgPSBuZXcgRXJyb3IoXG4gXHRcdFx0XHRcdFx0XHRcdFwiQWJvcnRlZCBiZWNhdXNlIFwiICsgbW9kdWxlSWQgKyBcIiBpcyBub3QgYWNjZXB0ZWRcIiArIGNoYWluSW5mb1xuIFx0XHRcdFx0XHRcdFx0KTtcbiBcdFx0XHRcdFx0XHRicmVhaztcbiBcdFx0XHRcdFx0Y2FzZSBcImFjY2VwdGVkXCI6XG4gXHRcdFx0XHRcdFx0aWYgKG9wdGlvbnMub25BY2NlcHRlZCkgb3B0aW9ucy5vbkFjY2VwdGVkKHJlc3VsdCk7XG4gXHRcdFx0XHRcdFx0ZG9BcHBseSA9IHRydWU7XG4gXHRcdFx0XHRcdFx0YnJlYWs7XG4gXHRcdFx0XHRcdGNhc2UgXCJkaXNwb3NlZFwiOlxuIFx0XHRcdFx0XHRcdGlmIChvcHRpb25zLm9uRGlzcG9zZWQpIG9wdGlvbnMub25EaXNwb3NlZChyZXN1bHQpO1xuIFx0XHRcdFx0XHRcdGRvRGlzcG9zZSA9IHRydWU7XG4gXHRcdFx0XHRcdFx0YnJlYWs7XG4gXHRcdFx0XHRcdGRlZmF1bHQ6XG4gXHRcdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiVW5leGNlcHRpb24gdHlwZSBcIiArIHJlc3VsdC50eXBlKTtcbiBcdFx0XHRcdH1cbiBcdFx0XHRcdGlmIChhYm9ydEVycm9yKSB7XG4gXHRcdFx0XHRcdGhvdFNldFN0YXR1cyhcImFib3J0XCIpO1xuIFx0XHRcdFx0XHRyZXR1cm4gUHJvbWlzZS5yZWplY3QoYWJvcnRFcnJvcik7XG4gXHRcdFx0XHR9XG4gXHRcdFx0XHRpZiAoZG9BcHBseSkge1xuIFx0XHRcdFx0XHRhcHBsaWVkVXBkYXRlW21vZHVsZUlkXSA9IGhvdFVwZGF0ZVttb2R1bGVJZF07XG4gXHRcdFx0XHRcdGFkZEFsbFRvU2V0KG91dGRhdGVkTW9kdWxlcywgcmVzdWx0Lm91dGRhdGVkTW9kdWxlcyk7XG4gXHRcdFx0XHRcdGZvciAobW9kdWxlSWQgaW4gcmVzdWx0Lm91dGRhdGVkRGVwZW5kZW5jaWVzKSB7XG4gXHRcdFx0XHRcdFx0aWYgKFxuIFx0XHRcdFx0XHRcdFx0T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKFxuIFx0XHRcdFx0XHRcdFx0XHRyZXN1bHQub3V0ZGF0ZWREZXBlbmRlbmNpZXMsXG4gXHRcdFx0XHRcdFx0XHRcdG1vZHVsZUlkXG4gXHRcdFx0XHRcdFx0XHQpXG4gXHRcdFx0XHRcdFx0KSB7XG4gXHRcdFx0XHRcdFx0XHRpZiAoIW91dGRhdGVkRGVwZW5kZW5jaWVzW21vZHVsZUlkXSlcbiBcdFx0XHRcdFx0XHRcdFx0b3V0ZGF0ZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdID0gW107XG4gXHRcdFx0XHRcdFx0XHRhZGRBbGxUb1NldChcbiBcdFx0XHRcdFx0XHRcdFx0b3V0ZGF0ZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdLFxuIFx0XHRcdFx0XHRcdFx0XHRyZXN1bHQub3V0ZGF0ZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdXG4gXHRcdFx0XHRcdFx0XHQpO1xuIFx0XHRcdFx0XHRcdH1cbiBcdFx0XHRcdFx0fVxuIFx0XHRcdFx0fVxuIFx0XHRcdFx0aWYgKGRvRGlzcG9zZSkge1xuIFx0XHRcdFx0XHRhZGRBbGxUb1NldChvdXRkYXRlZE1vZHVsZXMsIFtyZXN1bHQubW9kdWxlSWRdKTtcbiBcdFx0XHRcdFx0YXBwbGllZFVwZGF0ZVttb2R1bGVJZF0gPSB3YXJuVW5leHBlY3RlZFJlcXVpcmU7XG4gXHRcdFx0XHR9XG4gXHRcdFx0fVxuIFx0XHR9XG5cbiBcdFx0Ly8gU3RvcmUgc2VsZiBhY2NlcHRlZCBvdXRkYXRlZCBtb2R1bGVzIHRvIHJlcXVpcmUgdGhlbSBsYXRlciBieSB0aGUgbW9kdWxlIHN5c3RlbVxuIFx0XHR2YXIgb3V0ZGF0ZWRTZWxmQWNjZXB0ZWRNb2R1bGVzID0gW107XG4gXHRcdGZvciAoaSA9IDA7IGkgPCBvdXRkYXRlZE1vZHVsZXMubGVuZ3RoOyBpKyspIHtcbiBcdFx0XHRtb2R1bGVJZCA9IG91dGRhdGVkTW9kdWxlc1tpXTtcbiBcdFx0XHRpZiAoXG4gXHRcdFx0XHRpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSAmJlxuIFx0XHRcdFx0aW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uaG90Ll9zZWxmQWNjZXB0ZWRcbiBcdFx0XHQpXG4gXHRcdFx0XHRvdXRkYXRlZFNlbGZBY2NlcHRlZE1vZHVsZXMucHVzaCh7XG4gXHRcdFx0XHRcdG1vZHVsZTogbW9kdWxlSWQsXG4gXHRcdFx0XHRcdGVycm9ySGFuZGxlcjogaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uaG90Ll9zZWxmQWNjZXB0ZWRcbiBcdFx0XHRcdH0pO1xuIFx0XHR9XG5cbiBcdFx0Ly8gTm93IGluIFwiZGlzcG9zZVwiIHBoYXNlXG4gXHRcdGhvdFNldFN0YXR1cyhcImRpc3Bvc2VcIik7XG4gXHRcdE9iamVjdC5rZXlzKGhvdEF2YWlsYWJsZUZpbGVzTWFwKS5mb3JFYWNoKGZ1bmN0aW9uKGNodW5rSWQpIHtcbiBcdFx0XHRpZiAoaG90QXZhaWxhYmxlRmlsZXNNYXBbY2h1bmtJZF0gPT09IGZhbHNlKSB7XG4gXHRcdFx0XHRob3REaXNwb3NlQ2h1bmsoY2h1bmtJZCk7XG4gXHRcdFx0fVxuIFx0XHR9KTtcblxuIFx0XHR2YXIgaWR4O1xuIFx0XHR2YXIgcXVldWUgPSBvdXRkYXRlZE1vZHVsZXMuc2xpY2UoKTtcbiBcdFx0d2hpbGUgKHF1ZXVlLmxlbmd0aCA+IDApIHtcbiBcdFx0XHRtb2R1bGVJZCA9IHF1ZXVlLnBvcCgpO1xuIFx0XHRcdG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdO1xuIFx0XHRcdGlmICghbW9kdWxlKSBjb250aW51ZTtcblxuIFx0XHRcdHZhciBkYXRhID0ge307XG5cbiBcdFx0XHQvLyBDYWxsIGRpc3Bvc2UgaGFuZGxlcnNcbiBcdFx0XHR2YXIgZGlzcG9zZUhhbmRsZXJzID0gbW9kdWxlLmhvdC5fZGlzcG9zZUhhbmRsZXJzO1xuIFx0XHRcdGZvciAoaiA9IDA7IGogPCBkaXNwb3NlSGFuZGxlcnMubGVuZ3RoOyBqKyspIHtcbiBcdFx0XHRcdGNiID0gZGlzcG9zZUhhbmRsZXJzW2pdO1xuIFx0XHRcdFx0Y2IoZGF0YSk7XG4gXHRcdFx0fVxuIFx0XHRcdGhvdEN1cnJlbnRNb2R1bGVEYXRhW21vZHVsZUlkXSA9IGRhdGE7XG5cbiBcdFx0XHQvLyBkaXNhYmxlIG1vZHVsZSAodGhpcyBkaXNhYmxlcyByZXF1aXJlcyBmcm9tIHRoaXMgbW9kdWxlKVxuIFx0XHRcdG1vZHVsZS5ob3QuYWN0aXZlID0gZmFsc2U7XG5cbiBcdFx0XHQvLyByZW1vdmUgbW9kdWxlIGZyb20gY2FjaGVcbiBcdFx0XHRkZWxldGUgaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF07XG5cbiBcdFx0XHQvLyB3aGVuIGRpc3Bvc2luZyB0aGVyZSBpcyBubyBuZWVkIHRvIGNhbGwgZGlzcG9zZSBoYW5kbGVyXG4gXHRcdFx0ZGVsZXRlIG91dGRhdGVkRGVwZW5kZW5jaWVzW21vZHVsZUlkXTtcblxuIFx0XHRcdC8vIHJlbW92ZSBcInBhcmVudHNcIiByZWZlcmVuY2VzIGZyb20gYWxsIGNoaWxkcmVuXG4gXHRcdFx0Zm9yIChqID0gMDsgaiA8IG1vZHVsZS5jaGlsZHJlbi5sZW5ndGg7IGorKykge1xuIFx0XHRcdFx0dmFyIGNoaWxkID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGUuY2hpbGRyZW5bal1dO1xuIFx0XHRcdFx0aWYgKCFjaGlsZCkgY29udGludWU7XG4gXHRcdFx0XHRpZHggPSBjaGlsZC5wYXJlbnRzLmluZGV4T2YobW9kdWxlSWQpO1xuIFx0XHRcdFx0aWYgKGlkeCA+PSAwKSB7XG4gXHRcdFx0XHRcdGNoaWxkLnBhcmVudHMuc3BsaWNlKGlkeCwgMSk7XG4gXHRcdFx0XHR9XG4gXHRcdFx0fVxuIFx0XHR9XG5cbiBcdFx0Ly8gcmVtb3ZlIG91dGRhdGVkIGRlcGVuZGVuY3kgZnJvbSBtb2R1bGUgY2hpbGRyZW5cbiBcdFx0dmFyIGRlcGVuZGVuY3k7XG4gXHRcdHZhciBtb2R1bGVPdXRkYXRlZERlcGVuZGVuY2llcztcbiBcdFx0Zm9yIChtb2R1bGVJZCBpbiBvdXRkYXRlZERlcGVuZGVuY2llcykge1xuIFx0XHRcdGlmIChcbiBcdFx0XHRcdE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvdXRkYXRlZERlcGVuZGVuY2llcywgbW9kdWxlSWQpXG4gXHRcdFx0KSB7XG4gXHRcdFx0XHRtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXTtcbiBcdFx0XHRcdGlmIChtb2R1bGUpIHtcbiBcdFx0XHRcdFx0bW9kdWxlT3V0ZGF0ZWREZXBlbmRlbmNpZXMgPSBvdXRkYXRlZERlcGVuZGVuY2llc1ttb2R1bGVJZF07XG4gXHRcdFx0XHRcdGZvciAoaiA9IDA7IGogPCBtb2R1bGVPdXRkYXRlZERlcGVuZGVuY2llcy5sZW5ndGg7IGorKykge1xuIFx0XHRcdFx0XHRcdGRlcGVuZGVuY3kgPSBtb2R1bGVPdXRkYXRlZERlcGVuZGVuY2llc1tqXTtcbiBcdFx0XHRcdFx0XHRpZHggPSBtb2R1bGUuY2hpbGRyZW4uaW5kZXhPZihkZXBlbmRlbmN5KTtcbiBcdFx0XHRcdFx0XHRpZiAoaWR4ID49IDApIG1vZHVsZS5jaGlsZHJlbi5zcGxpY2UoaWR4LCAxKTtcbiBcdFx0XHRcdFx0fVxuIFx0XHRcdFx0fVxuIFx0XHRcdH1cbiBcdFx0fVxuXG4gXHRcdC8vIE5vdCBpbiBcImFwcGx5XCIgcGhhc2VcbiBcdFx0aG90U2V0U3RhdHVzKFwiYXBwbHlcIik7XG5cbiBcdFx0aG90Q3VycmVudEhhc2ggPSBob3RVcGRhdGVOZXdIYXNoO1xuXG4gXHRcdC8vIGluc2VydCBuZXcgY29kZVxuIFx0XHRmb3IgKG1vZHVsZUlkIGluIGFwcGxpZWRVcGRhdGUpIHtcbiBcdFx0XHRpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGFwcGxpZWRVcGRhdGUsIG1vZHVsZUlkKSkge1xuIFx0XHRcdFx0bW9kdWxlc1ttb2R1bGVJZF0gPSBhcHBsaWVkVXBkYXRlW21vZHVsZUlkXTtcbiBcdFx0XHR9XG4gXHRcdH1cblxuIFx0XHQvLyBjYWxsIGFjY2VwdCBoYW5kbGVyc1xuIFx0XHR2YXIgZXJyb3IgPSBudWxsO1xuIFx0XHRmb3IgKG1vZHVsZUlkIGluIG91dGRhdGVkRGVwZW5kZW5jaWVzKSB7XG4gXHRcdFx0aWYgKFxuIFx0XHRcdFx0T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG91dGRhdGVkRGVwZW5kZW5jaWVzLCBtb2R1bGVJZClcbiBcdFx0XHQpIHtcbiBcdFx0XHRcdG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdO1xuIFx0XHRcdFx0aWYgKG1vZHVsZSkge1xuIFx0XHRcdFx0XHRtb2R1bGVPdXRkYXRlZERlcGVuZGVuY2llcyA9IG91dGRhdGVkRGVwZW5kZW5jaWVzW21vZHVsZUlkXTtcbiBcdFx0XHRcdFx0dmFyIGNhbGxiYWNrcyA9IFtdO1xuIFx0XHRcdFx0XHRmb3IgKGkgPSAwOyBpIDwgbW9kdWxlT3V0ZGF0ZWREZXBlbmRlbmNpZXMubGVuZ3RoOyBpKyspIHtcbiBcdFx0XHRcdFx0XHRkZXBlbmRlbmN5ID0gbW9kdWxlT3V0ZGF0ZWREZXBlbmRlbmNpZXNbaV07XG4gXHRcdFx0XHRcdFx0Y2IgPSBtb2R1bGUuaG90Ll9hY2NlcHRlZERlcGVuZGVuY2llc1tkZXBlbmRlbmN5XTtcbiBcdFx0XHRcdFx0XHRpZiAoY2IpIHtcbiBcdFx0XHRcdFx0XHRcdGlmIChjYWxsYmFja3MuaW5kZXhPZihjYikgIT09IC0xKSBjb250aW51ZTtcbiBcdFx0XHRcdFx0XHRcdGNhbGxiYWNrcy5wdXNoKGNiKTtcbiBcdFx0XHRcdFx0XHR9XG4gXHRcdFx0XHRcdH1cbiBcdFx0XHRcdFx0Zm9yIChpID0gMDsgaSA8IGNhbGxiYWNrcy5sZW5ndGg7IGkrKykge1xuIFx0XHRcdFx0XHRcdGNiID0gY2FsbGJhY2tzW2ldO1xuIFx0XHRcdFx0XHRcdHRyeSB7XG4gXHRcdFx0XHRcdFx0XHRjYihtb2R1bGVPdXRkYXRlZERlcGVuZGVuY2llcyk7XG4gXHRcdFx0XHRcdFx0fSBjYXRjaCAoZXJyKSB7XG4gXHRcdFx0XHRcdFx0XHRpZiAob3B0aW9ucy5vbkVycm9yZWQpIHtcbiBcdFx0XHRcdFx0XHRcdFx0b3B0aW9ucy5vbkVycm9yZWQoe1xuIFx0XHRcdFx0XHRcdFx0XHRcdHR5cGU6IFwiYWNjZXB0LWVycm9yZWRcIixcbiBcdFx0XHRcdFx0XHRcdFx0XHRtb2R1bGVJZDogbW9kdWxlSWQsXG4gXHRcdFx0XHRcdFx0XHRcdFx0ZGVwZW5kZW5jeUlkOiBtb2R1bGVPdXRkYXRlZERlcGVuZGVuY2llc1tpXSxcbiBcdFx0XHRcdFx0XHRcdFx0XHRlcnJvcjogZXJyXG4gXHRcdFx0XHRcdFx0XHRcdH0pO1xuIFx0XHRcdFx0XHRcdFx0fVxuIFx0XHRcdFx0XHRcdFx0aWYgKCFvcHRpb25zLmlnbm9yZUVycm9yZWQpIHtcbiBcdFx0XHRcdFx0XHRcdFx0aWYgKCFlcnJvcikgZXJyb3IgPSBlcnI7XG4gXHRcdFx0XHRcdFx0XHR9XG4gXHRcdFx0XHRcdFx0fVxuIFx0XHRcdFx0XHR9XG4gXHRcdFx0XHR9XG4gXHRcdFx0fVxuIFx0XHR9XG5cbiBcdFx0Ly8gTG9hZCBzZWxmIGFjY2VwdGVkIG1vZHVsZXNcbiBcdFx0Zm9yIChpID0gMDsgaSA8IG91dGRhdGVkU2VsZkFjY2VwdGVkTW9kdWxlcy5sZW5ndGg7IGkrKykge1xuIFx0XHRcdHZhciBpdGVtID0gb3V0ZGF0ZWRTZWxmQWNjZXB0ZWRNb2R1bGVzW2ldO1xuIFx0XHRcdG1vZHVsZUlkID0gaXRlbS5tb2R1bGU7XG4gXHRcdFx0aG90Q3VycmVudFBhcmVudHMgPSBbbW9kdWxlSWRdO1xuIFx0XHRcdHRyeSB7XG4gXHRcdFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKTtcbiBcdFx0XHR9IGNhdGNoIChlcnIpIHtcbiBcdFx0XHRcdGlmICh0eXBlb2YgaXRlbS5lcnJvckhhbmRsZXIgPT09IFwiZnVuY3Rpb25cIikge1xuIFx0XHRcdFx0XHR0cnkge1xuIFx0XHRcdFx0XHRcdGl0ZW0uZXJyb3JIYW5kbGVyKGVycik7XG4gXHRcdFx0XHRcdH0gY2F0Y2ggKGVycjIpIHtcbiBcdFx0XHRcdFx0XHRpZiAob3B0aW9ucy5vbkVycm9yZWQpIHtcbiBcdFx0XHRcdFx0XHRcdG9wdGlvbnMub25FcnJvcmVkKHtcbiBcdFx0XHRcdFx0XHRcdFx0dHlwZTogXCJzZWxmLWFjY2VwdC1lcnJvci1oYW5kbGVyLWVycm9yZWRcIixcbiBcdFx0XHRcdFx0XHRcdFx0bW9kdWxlSWQ6IG1vZHVsZUlkLFxuIFx0XHRcdFx0XHRcdFx0XHRlcnJvcjogZXJyMixcbiBcdFx0XHRcdFx0XHRcdFx0b3JpZ2luYWxFcnJvcjogZXJyXG4gXHRcdFx0XHRcdFx0XHR9KTtcbiBcdFx0XHRcdFx0XHR9XG4gXHRcdFx0XHRcdFx0aWYgKCFvcHRpb25zLmlnbm9yZUVycm9yZWQpIHtcbiBcdFx0XHRcdFx0XHRcdGlmICghZXJyb3IpIGVycm9yID0gZXJyMjtcbiBcdFx0XHRcdFx0XHR9XG4gXHRcdFx0XHRcdFx0aWYgKCFlcnJvcikgZXJyb3IgPSBlcnI7XG4gXHRcdFx0XHRcdH1cbiBcdFx0XHRcdH0gZWxzZSB7XG4gXHRcdFx0XHRcdGlmIChvcHRpb25zLm9uRXJyb3JlZCkge1xuIFx0XHRcdFx0XHRcdG9wdGlvbnMub25FcnJvcmVkKHtcbiBcdFx0XHRcdFx0XHRcdHR5cGU6IFwic2VsZi1hY2NlcHQtZXJyb3JlZFwiLFxuIFx0XHRcdFx0XHRcdFx0bW9kdWxlSWQ6IG1vZHVsZUlkLFxuIFx0XHRcdFx0XHRcdFx0ZXJyb3I6IGVyclxuIFx0XHRcdFx0XHRcdH0pO1xuIFx0XHRcdFx0XHR9XG4gXHRcdFx0XHRcdGlmICghb3B0aW9ucy5pZ25vcmVFcnJvcmVkKSB7XG4gXHRcdFx0XHRcdFx0aWYgKCFlcnJvcikgZXJyb3IgPSBlcnI7XG4gXHRcdFx0XHRcdH1cbiBcdFx0XHRcdH1cbiBcdFx0XHR9XG4gXHRcdH1cblxuIFx0XHQvLyBoYW5kbGUgZXJyb3JzIGluIGFjY2VwdCBoYW5kbGVycyBhbmQgc2VsZiBhY2NlcHRlZCBtb2R1bGUgbG9hZFxuIFx0XHRpZiAoZXJyb3IpIHtcbiBcdFx0XHRob3RTZXRTdGF0dXMoXCJmYWlsXCIpO1xuIFx0XHRcdHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvcik7XG4gXHRcdH1cblxuIFx0XHRob3RTZXRTdGF0dXMoXCJpZGxlXCIpO1xuIFx0XHRyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSkge1xuIFx0XHRcdHJlc29sdmUob3V0ZGF0ZWRNb2R1bGVzKTtcbiBcdFx0fSk7XG4gXHR9XG5cbiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9LFxuIFx0XHRcdGhvdDogaG90Q3JlYXRlTW9kdWxlKG1vZHVsZUlkKSxcbiBcdFx0XHRwYXJlbnRzOiAoaG90Q3VycmVudFBhcmVudHNUZW1wID0gaG90Q3VycmVudFBhcmVudHMsIGhvdEN1cnJlbnRQYXJlbnRzID0gW10sIGhvdEN1cnJlbnRQYXJlbnRzVGVtcCksXG4gXHRcdFx0Y2hpbGRyZW46IFtdXG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIGhvdENyZWF0ZVJlcXVpcmUobW9kdWxlSWQpKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHtcbiBcdFx0XHRcdGNvbmZpZ3VyYWJsZTogZmFsc2UsXG4gXHRcdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuIFx0XHRcdFx0Z2V0OiBnZXR0ZXJcbiBcdFx0XHR9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuIFx0Ly8gX193ZWJwYWNrX2hhc2hfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5oID0gZnVuY3Rpb24oKSB7IHJldHVybiBob3RDdXJyZW50SGFzaDsgfTtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBob3RDcmVhdGVSZXF1aXJlKDcpKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDcpO1xuIiwiZXhwb3J0IGNsYXNzIEVsZW1lbnRzIHtcblxuICAgIHN0YXRpYyBmcm9tKGpzb24pIHtcbiAgICAgICAgbGV0IGNsYXNzTmFtZSA9IGpzb24uY2xhc3NOYW1lO1xuICAgICAgICBsZXQgdGFnTmFtZSA9IGpzb24udGFnTmFtZTtcbiAgICAgICAgY29uc3QgZWwgPSBFbGVtZW50cy5lbGVtZW50KGNsYXNzTmFtZSwgdGFnTmFtZSk7XG4gICAgICAgIGZvciAobGV0IHAgaW4ganNvbikge1xuICAgICAgICAgICAgaWYgKHAgIT09IFwiY2xhc3NOYW1lXCIgJiYgcCAhPT0gXCJ0YWdOYW1lXCIpIHtcbiAgICAgICAgICAgICAgICBlbC5zZXRBdHRyaWJ1dGUocCwganNvbltwXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGVsO1xuICAgIH1cblxuICAgIHN0YXRpYyB3cmFwQ2hpbGQod3JhcHBlckNvbmZpZywgY2hpbGQpIHtcbiAgICAgICAgY29uc3QgcGFyZW50ID0gY2hpbGQucGFyZW50RWxlbWVudDtcbiAgICAgICAgY29uc3Qgd3JhcHBlciA9IEVsZW1lbnRzLmZyb20od3JhcHBlckNvbmZpZyk7XG4gICAgICAgIHdyYXBwZXIuY2xhc3NMaXN0LmFkZChcIndyYXBwZXJcIik7XG4gICAgICAgIHBhcmVudC5yZXBsYWNlQ2hpbGQod3JhcHBlciwgY2hpbGQpO1xuICAgICAgICB3cmFwcGVyLmFwcGVuZENoaWxkKGNoaWxkKTtcbiAgICAgICAgcmV0dXJuIHdyYXBwZXI7XG4gICAgfVxuXG4gICAgc3RhdGljIHdyYXAod3JhcHBlckNvbmZpZywgLi4uZWxlbWVudHMpIHtcbiAgICAgICAgY29uc3Qgd3JhcHBlciA9IEVsZW1lbnRzLmZyb20od3JhcHBlckNvbmZpZyk7XG4gICAgICAgIGZvciAobGV0IGVsIG9mIGVsZW1lbnRzKSB7XG4gICAgICAgICAgICB3cmFwcGVyLmFwcGVuZENoaWxkKGVsKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd3JhcHBlcjtcbiAgICB9XG5cblxuICAgIHN0YXRpYyB3cmFwV2l0aFRhZyh3cmFwVGFnID0gXCJkaXZcIiwgLi4uZWxlbWVudHMpIHtcbiAgICAgICAgY29uc3Qgd3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQod3JhcFRhZyk7XG4gICAgICAgIGZvciAobGV0IGVsIG9mIGVsZW1lbnRzKSB7XG4gICAgICAgICAgICB3cmFwcGVyLmFwcGVuZENoaWxkKGVsKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd3JhcHBlcjtcbiAgICB9XG5cbiAgICBzdGF0aWMgZWxlbWVudChjbGFzc05hbWUsIHRhZ05hbWUgPSBcImRpdlwiKSB7XG4gICAgICAgIGNvbnN0IGVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0YWdOYW1lKTtcbiAgICAgICAgaWYgKGNsYXNzTmFtZSAmJiBjbGFzc05hbWUuY2xhc3NOYW1lKSBjbGFzc05hbWUgPSBjbGFzc05hbWUuY2xhc3NOYW1lO1xuICAgICAgICBpZiAoY2xhc3NOYW1lICE9PSBudWxsKVxuICAgICAgICAgICAgZWwuY2xhc3NOYW1lID0gY2xhc3NOYW1lO1xuICAgICAgICByZXR1cm4gZWw7XG4gICAgfVxuXG4gICAgc3RhdGljIHRleHQodGV4dCwgY2xhc3NOYW1lLCB0YWdOYW1lKSB7XG4gICAgICAgIGNvbnN0IHRleHROb2RlID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUodGV4dCk7XG4gICAgICAgIGlmIChjbGFzc05hbWUpIHtcbiAgICAgICAgICAgIGNvbnN0IGVsID0gRWxlbWVudHMuZWxlbWVudChjbGFzc05hbWUsIHRhZ05hbWUpO1xuICAgICAgICAgICAgZWwuYXBwZW5kQ2hpbGQodGV4dE5vZGUpO1xuICAgICAgICAgICAgcmV0dXJuIGVsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0ZXh0Tm9kZTtcblxuICAgIH1cblxuICAgIHN0YXRpYyBidXR0b24odGV4dCwgY2xhc3NOYW1lKSB7XG4gICAgICAgIGNvbnN0IGJ0biA9IHRoaXMuZWxlbWVudChjbGFzc05hbWUsIFwiYnV0dG9uXCIpO1xuICAgICAgICBidG4uYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUodGV4dCkpO1xuICAgICAgICByZXR1cm4gYnRuO1xuICAgIH1cblxuICAgIHN0YXRpYyBpbnB1dChwbGFjZUhvbGRlciwgY2xhc3NOYW1lKSB7XG4gICAgICAgIGNvbnN0IGlucHV0ID0gdGhpcy5lbGVtZW50KGNsYXNzTmFtZSwgXCJpbnB1dFwiKTtcbiAgICAgICAgaW5wdXQucGxhY2Vob2xkZXIgPSBwbGFjZUhvbGRlcjtcbiAgICAgICAgcmV0dXJuIGlucHV0O1xuICAgIH1cblxuICAgIHN0YXRpYyB1bndyYXAod3JhcHBlZCkge1xuICAgICAgICBjb25zb2xlLmxvZyh3cmFwcGVkKTtcbiAgICAgICAgY29uc29sZS5hc3NlcnQod3JhcHBlZC5jbGFzc0xpc3QuY29udGFpbnMoXCJ3cmFwcGVyXCIpKTtcbiAgICAgICAgY29uc3QgY2hpbGQgPSB3cmFwcGVkLmZpcnN0Q2hpbGQ7XG4gICAgICAgIGNvbnN0IHBhcmVudCA9IHdyYXBwZWQucGFyZW50RWxlbWVudDtcbiAgICAgICAgcGFyZW50LnJlcGxhY2VDaGlsZChjaGlsZCwgd3JhcHBlZCk7XG4gICAgICAgIHBhcmVudC5ub3JtYWxpemUoKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgZXh0cmFjdFRleHQodGV4dE5vZGUsIHN0YXJ0LCBlbmQpIHtcbiAgICAgICAgY29uc3QgZXh0cmFjdGVkID0gdGV4dE5vZGUuc3BsaXRUZXh0KHN0YXJ0KTtcbiAgICAgICAgY29uc3QgeCA9IGV4dHJhY3RlZC5zcGxpdFRleHQoZW5kIC0gc3RhcnQgKTtcbiAgICAgICAgcmV0dXJuIGV4dHJhY3RlZDtcbiAgICB9XG59IiwiZXhwb3J0IGNvbnN0IENsYXNzTmFtZXMgPSB7XG4gICAgcGFyYW1ldGVyOiB7XG4gICAgICAgIGNsYXNzTmFtZTogXCJwci1wYXJhbVwiLFxuICAgICAgICB0eXBlOiB7XG4gICAgICAgICAgICBhdHRyaWJ1dGU6IFwicHItcGFyYW0tdHlwZVwiLFxuICAgICAgICAgICAgdGV4dDogXCJ0ZXh0XCIsXG4gICAgICAgICAgICBsaW5rOiBcImxpbmtcIlxuICAgICAgICB9LFxuICAgICAgICBuYW1lOiB7XG4gICAgICAgICAgICBhdHRyaWJ1dGU6IFwicHItcGFyYW0tbmFtZVwiXG4gICAgICAgIH0sXG4gICAgICAgIG5vZGU6IHtcbiAgICAgICAgICAgIGNsYXNzTmFtZTogXCJwci1wYXJhbS1ub2RlXCIsXG5cbiAgICAgICAgfSxcbiAgICAgICAgY29udHJvbDpcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU6IFwicHItcGFyYW0tY29udHJvbFwiLFxuICAgICAgICAgICAgICAgIGRlbGV0ZUJ1dHRvbjogXCJwci1wYXJhbS1jb250cm9sLWRlbGV0ZVwiXG4gICAgICAgICAgICB9XG4gICAgfSxcbiAgICBtZW51OiB7XG4gICAgICAgIGNsYXNzTmFtZTogXCJjb250ZXh0LW1lbnVcIixcbiAgICAgICAgb3B0aW9uOiB7XG4gICAgICAgICAgICBjbGFzc05hbWU6IFwiY29udGV4dC1tZW51LW9wdGlvblwiLFxuICAgICAgICAgICAgdGl0bGU6ICBcImNvbnRleHQtbWVudS1vcHRpb24tdGl0bGVcIixcbiAgICAgICAgICAgIGlucHV0OiBcImNvbnRleHQtbWVudS1vcHRpb24taW5wdXRcIlxuXG4gICAgICAgIH0sXG4gICAgfVxufTtcbiIsImltcG9ydCB7RWxlbWVudHN9IGZyb20gXCIuLi9jb3JlL0VsZW1lbnRzXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBsaW1pdExlbmd0aCh0ZXh0LCBtYXhMZW5ndGgsIGV4Y2Vzc1N5bWJvbCkge1xuICAgIHJldHVybiB0ZXh0Lmxlbmd0aCA+IG1heExlbmd0aCA/IHRleHQuc3Vic3RyKDAsIG1heExlbmd0aCAtIGV4Y2Vzc1N5bWJvbC5sZW5ndGgpICsgZXhjZXNzU3ltYm9sIDogdGV4dDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFwcGx5Q1NTKGhlYWQsIGZpbGVOYW1lKSB7XG4gICAgY29uc3QgY29uZmlnID1cbiAgICAgICAge1xuICAgICAgICAgICAgdGFnTmFtZTogXCJsaW5rXCIsXG4gICAgICAgICAgICByZWw6IFwic3R5bGVzaGVldFwiLFxuICAgICAgICAgICAgaHJlZjogZmlsZU5hbWVcbiAgICAgICAgfTtcbiAgICBoZWFkLmFwcGVuZENoaWxkKEVsZW1lbnRzLmZyb20oY29uZmlnKSk7XG59IiwiaW1wb3J0IHtFbGVtZW50c30gZnJvbSBcIi4uL2NvcmUvRWxlbWVudHNcIjtcbmltcG9ydCB7Q2xhc3NOYW1lc30gZnJvbSBcIi4uL2NvcmUvbmFtZXNcIjtcblxuZXhwb3J0IGNsYXNzIFRleHRwYXJhbWV0ZXJDb250cm9sIHtcbiAgICBjb25zdHJ1Y3RvcihuYW1lKSB7XG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgICAgIHRoaXMucGFyYW1ldGVyVHlwZSA9IENsYXNzTmFtZXMucGFyYW1ldGVyLnR5cGUudGV4dDtcbiAgICAgICAgdGhpcy5wYXJhbWV0ZXJOb2RlcyA9IFtdO1xuXG4gICAgICAgIHRoaXMud3JhcHBlciA9IHtcbiAgICAgICAgICAgIGNsYXNzTmFtZTogQ2xhc3NOYW1lcy5wYXJhbWV0ZXIubm9kZSxcbiAgICAgICAgICAgIHRhZ05hbWU6IFwiZGl2XCIsXG4gICAgICAgICAgICBbQ2xhc3NOYW1lcy5wYXJhbWV0ZXIubmFtZS5hdHRyaWJ1dGVdOiB0aGlzLm5hbWVcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zb2xlLmxvZyhcIkNyZWF0aW5nIG5ldyBwYXJhbWV0ZXI6IFwiICsgbmFtZSk7XG4gICAgfVxuXG4gICAgZ2V0IHBhcmFtVHlwZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucGFyYW1ldGVyVHlwZTtcbiAgICB9XG5cbiAgICBhZGROb2RlKG5vZGUpIHtcbiAgICAgICAgaWYgKG5vZGUubm9kZVR5cGUgPT09IE5vZGUuVEVYVF9OT0RFKSB7XG4gICAgICAgICAgICBub2RlID0gRWxlbWVudHMud3JhcENoaWxkKHRoaXMud3JhcHBlciwgbm9kZSk7XG4gICAgICAgICAgICB0aGlzLnBhcmFtZXRlck5vZGVzLnB1c2gobm9kZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3JcIik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZW1vdmVQYXJhbU5vZGUobm9kZSkge1xuICAgICAgICBjb25zdCBpID0gdGhpcy5wYXJhbWV0ZXJOb2Rlcy5maW5kSW5kZXgobm9kZSk7XG4gICAgICAgIGNvbnNvbGUuYXNzZXJ0KGkgIT09IC0xKTtcbiAgICAgICAgdGhpcy5wYXJhbWV0ZXJOb2Rlcy5zcGxpY2UoaSwgMSk7XG4gICAgICAgIEVsZW1lbnRzLnVud3JhcChub2RlKTtcbiAgICB9XG5cblxuICAgIGNsZWFyKCkge1xuICAgICAgICB3aGlsZSAodGhpcy5wYXJhbWV0ZXJOb2Rlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBjb25zdCBuID0gdGhpcy5wYXJhbWV0ZXJOb2Rlcy5wb3AoKTtcbiAgICAgICAgICAgIEVsZW1lbnRzLnVud3JhcChuKTtcbiAgICAgICAgfVxuXG4gICAgfVxufSIsImltcG9ydCB7RWxlbWVudHN9IGZyb20gXCIuLi9jb3JlL0VsZW1lbnRzXCI7XG5pbXBvcnQge0NsYXNzTmFtZXN9IGZyb20gXCIuLi9jb3JlL25hbWVzXCI7XG5cbmV4cG9ydCBjbGFzcyBUZXh0UGFyYW1ldGVyIHtcbiAgICBjb25zdHJ1Y3Rvcihtb2RlbCwgb25EZWxldGVDYWxsYmFjaykge1xuICAgICAgICB0aGlzLm1vZGVsID0gbW9kZWw7XG4gICAgICAgIHRoaXMub25EZWxldGVDYWxsQmFjayA9IG9uRGVsZXRlQ2FsbGJhY2s7XG4gICAgICAgIHRoaXMud3JhcHBlckNvbmZpZyA9IHtcbiAgICAgICAgICAgIGNsYXNzTmFtZTogQ2xhc3NOYW1lcy5wYXJhbWV0ZXIuY29udHJvbCxcbiAgICAgICAgICAgIFtDbGFzc05hbWVzLnBhcmFtZXRlci5uYW1lLmF0dHJpYnV0ZV06IG1vZGVsLm5hbWUsXG4gICAgICAgICAgICBbQ2xhc3NOYW1lcy5wYXJhbWV0ZXIudHlwZS5hdHRyaWJ1dGVdOiBtb2RlbC5wYXJhbVR5cGUsXG4gICAgICAgICAgICB0YWdOYW1lOiBcImxpXCJcbiAgICAgICAgfTtcblxuICAgICAgICB0aGlzLmVsZW1lbnQgPSBFbGVtZW50cy5mcm9tKHRoaXMud3JhcHBlckNvbmZpZyk7XG5cbiAgICAgICAgdGhpcy5sYWJlbCA9IEVsZW1lbnRzLnRleHQobW9kZWwubmFtZSwgXCJwci1wYXJhbS1jb250cm9sLW5hbWVMYWJlbFwiKTtcbiAgICAgICAgdGhpcy5kZWxldGVCdXR0b24gPSBFbGVtZW50cy5idXR0b24oJ1gnLCBDbGFzc05hbWVzLnBhcmFtZXRlci5jb250cm9sLmRlbGV0ZUJ1dHRvbik7XG5cbiAgICAgICAgdGhpcy5kZWxldGVCdXR0b24ub25jbGljayA9ICgpID0+IHRoaXMub25EZWxldGUoKTtcbiAgICAgICAgdGhpcy5lbGVtZW50ID0gRWxlbWVudHMud3JhcCh0aGlzLndyYXBwZXJDb25maWcsIHRoaXMubGFiZWwsIHRoaXMuZGVsZXRlQnV0dG9uKTtcbiAgICAgICAgY29uc29sZS5sb2codGhpcy5lbGVtZW50KTtcbiAgICAgICAgdGhpcy5lbGVtZW50Lm9ubW91c2VlbnRlciA9ICgpPT4gdGhpcy5oaWdobGlnaHQoKTtcbiAgICAgICAgdGhpcy5lbGVtZW50Lm9ubW91c2VsZWF2ZSA9ICgpPT4gdGhpcy51bmhpZ2hsaWdodCgpO1xuICAgIH1cblxuICAgIG9uRGVsZXRlKCkge1xuICAgICAgICB0aGlzLm9uRGVsZXRlQ2FsbEJhY2soKTtcbiAgICAgICAgdGhpcy5tb2RlbC5jbGVhcigpO1xuICAgICAgICB0aGlzLmVsZW1lbnQucmVtb3ZlKCk7XG4gICAgfVxuXG4gICAgdW5oaWdobGlnaHQoKVxuICAgIHtcbiAgICAgICAgZm9yKGxldCBlbCBvZiB0aGlzLm1vZGVsLnBhcmFtZXRlck5vZGVzKVxuICAgICAgICB7XG4gICAgICAgICAgICBlbC5yZW1vdmVBdHRyaWJ1dGUoXCJhY3RpdmVcIik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaGlnaGxpZ2h0KClcbiAgICB7XG4gICAgICAgIGZvcihsZXQgZWwgb2YgdGhpcy5tb2RlbC5wYXJhbWV0ZXJOb2RlcylcbiAgICAgICAge1xuICAgICAgICAgICAgZWwuc2V0QXR0cmlidXRlKFwiYWN0aXZlXCIsXCJcIik7XG4gICAgICAgIH1cbiAgICB9XG5cblxufSIsImltcG9ydCB7VGV4dHBhcmFtZXRlckNvbnRyb2x9IGZyb20gXCIuL3RleHRQYXJhbWV0ZXJcIjtcbmltcG9ydCB7VGV4dFBhcmFtZXRlcn0gZnJvbSBcIi4vdGV4dC1wYXJhbWV0ZXItY29udHJvbFwiO1xuXG5leHBvcnQgY2xhc3MgUGFyYW1ldGVyQ29udGFpbmVyIHtcblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLnBhcmFtZXRlckNvbnRyb2xzID0gW107XG4gICAgICAgIHRoaXMucGFyYW1ldGVyVmlld3MgPSBbXTtcblxuICAgICAgICB0aGlzLnZpZXcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLlBhcmFtZXRlci1saXN0XCIpO1xuICAgICAgICBjb25zb2xlLmFzc2VydCh0aGlzLnZpZXcpO1xuICAgIH1cblxuICAgIGluZGV4T2YobmFtZSkge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMucGFyYW1ldGVyQ29udHJvbHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IHBhcmFtID0gdGhpcy5wYXJhbWV0ZXJDb250cm9sc1tpXTtcbiAgICAgICAgICAgIGlmIChwYXJhbS5uYW1lID09PSBuYW1lKSByZXR1cm4gaTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gLTE7XG4gICAgfVxuXG4gICAgaGFzKG5hbWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaW5kZXhPZihuYW1lKSAhPT0gLTE7XG4gICAgfVxuXG4gICAgZmluZFBhcmFtZXRlcihuYW1lKSB7XG4gICAgICAgIGNvbnN0IGluZGV4ID0gdGhpcy5pbmRleE9mKG5hbWUpO1xuICAgICAgICByZXR1cm4gaW5kZXggPT09IC0xID8gbnVsbCA6IHtjb250cm9sOiB0aGlzLnBhcmFtZXRlckNvbnRyb2xzW2luZGV4XSwgdmlldzogdGhpcy5wYXJhbWV0ZXJWaWV3c1tpbmRleF19O1xuICAgIH1cblxuICAgIGFkZFBhcmFtZXRlcihuYW1lLCB0eXBlKSB7XG4gICAgICAgIGNvbnNvbGUuYXNzZXJ0KCF0aGlzLmhhcyhuYW1lKSk7XG4gICAgICAgIGNvbnN0IGNvbnRyb2wgPSBuZXcgVGV4dHBhcmFtZXRlckNvbnRyb2wobmFtZSwgdHlwZSk7XG4gICAgICAgIGNvbnN0IHZpZXcgPSBuZXcgVGV4dFBhcmFtZXRlcihjb250cm9sLCAobmFtZSkgPT4gdGhpcy5kZWxldGVQYXJhbWV0ZXIobmFtZSkpO1xuXG4gICAgICAgIHRoaXMucGFyYW1ldGVyQ29udHJvbHMucHVzaChjb250cm9sKTtcbiAgICAgICAgdGhpcy5wYXJhbWV0ZXJWaWV3cy5wdXNoKHZpZXcpO1xuICAgICAgICB0aGlzLnZpZXcuYXBwZW5kQ2hpbGQodmlldy5lbGVtZW50KTtcbiAgICAgICAgcmV0dXJuIHtjb250cm9sLCB2aWV3fTtcbiAgICB9XG5cbiAgICBkZWxldGVQYXJhbWV0ZXIobmFtZSkge1xuICAgICAgICBjb25zdCBpbmRleCA9IHRoaXMuaW5kZXhPZihuYW1lKTtcbiAgICAgICAgdGhpcy5wYXJhbWV0ZXJDb250cm9scy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICB0aGlzLnBhcmFtZXRlclZpZXdzLnNwbGljZShpbmRleCwgMSk7XG4gICAgfVxuXG59IiwiaW1wb3J0IHtFbGVtZW50c30gZnJvbSAnLi4vY29yZS9FbGVtZW50cy5qcyc7XG5pbXBvcnQge0NsYXNzTmFtZXN9IGZyb20gXCIuLi9jb3JlL25hbWVzXCI7XG5cbmNvbnN0IG1lbnVfcG9zaXRpb25fcGFkZGluZyA9IDEwO1xuXG5leHBvcnQgY2xhc3MgTWVudSB7XG4gICAgY29uc3RydWN0b3IodGVtcGxhdGUpIHtcbiAgICAgICAgdGhpcy50ZW1wbGF0ZSA9IHRlbXBsYXRlO1xuICAgICAgICB0aGlzLm1lbnVFbGVtZW50ID0gRWxlbWVudHMuZWxlbWVudChDbGFzc05hbWVzLm1lbnUsIFwidWxcIik7XG4gICAgICAgIHRlbXBsYXRlLmJvZHkuYXBwZW5kQ2hpbGQodGhpcy5tZW51RWxlbWVudCk7XG4gICAgICAgIHRlbXBsYXRlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZXZlbnQpPT4gdGhpcy5oYW5kbGVDbGljayhldmVudCkpXG4gICAgfVxuXG4gICAgY2xlYXIoKSB7XG4gICAgICAgIGNvbnN0IG1lbnVFbCA9IHRoaXMubWVudUVsZW1lbnQ7XG5cbiAgICAgICAgd2hpbGUgKG1lbnVFbC5sYXN0Q2hpbGQpIHtcbiAgICAgICAgICAgIG1lbnVFbC5yZW1vdmVDaGlsZChtZW51RWwubGFzdENoaWxkKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGFkZE9wdGlvbihvcHRpb24pIHtcbiAgICAgICAgdGhpcy5tZW51RWxlbWVudC5hcHBlbmRDaGlsZChvcHRpb24uZWxlbWVudCk7XG4gICAgfVxuXG4gICAgcG9zaXRpb24oeCwgeSkge1xuICAgICAgICBjb25zdCBtZW51ID0gdGhpcy5tZW51RWxlbWVudDtcblxuICAgICAgICBjb25zdCBtYXhYID0gdGhpcy50ZW1wbGF0ZS5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGg7XG4gICAgICAgIGNvbnN0IG1heFkgPSB0aGlzLnRlbXBsYXRlLmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQ7XG4gICAgICAgIGNvbnN0IG1lbnVfd2lkdGggPSBtZW51Lm9mZnNldFdpZHRoO1xuICAgICAgICBjb25zdCBtZW51X2hlaWdodCA9IG1lbnUub2Zmc2V0SGVpZ2h0O1xuXG4gICAgICAgIGNvbnN0IGVteCA9IG1heFggLSBtZW51X3dpZHRoIC0gbWVudV9wb3NpdGlvbl9wYWRkaW5nO1xuICAgICAgICBjb25zdCBlbXkgPSBtYXhZIC0gbWVudV9oZWlnaHQgLSBtZW51X3Bvc2l0aW9uX3BhZGRpbmc7XG4gICAgICAgIGNvbnNvbGUubG9nKG1heFgpO1xuICAgICAgICBjb25zb2xlLmxvZyh4KTtcblxuICAgICAgICBtZW51LnN0eWxlLmxlZnQgPSAoeCA+IGVteCA/IGVteCA6IHgpICsgXCJweFwiO1xuICAgICAgICBtZW51LnN0eWxlLnRvcCA9ICh5ID4gZW15ID8gZW15IDogeSkgKyBcInB4XCI7XG4gICAgfVxuXG4gICAgcmVwbGFjZU1lbnVPcHRpb25zKC4uLm9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5jbGVhcigpO1xuICAgICAgICBmb3IgKGxldCBvcHRpb24gb2Ygb3B0aW9ucykge1xuICAgICAgICAgICAgdGhpcy5hZGRPcHRpb24ob3B0aW9uKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHNob3dNZW51KClcbiAgICB7XG4gICAgICAgIHRoaXMubWVudUVsZW1lbnQuc2V0QXR0cmlidXRlKFwiQWN0aXZlXCIsXCJcIik7XG4gICAgfVxuXG4gICAgaGlkZU1lbnUoKVxuICAgIHtcbiAgICAgICAgdGhpcy5jbGVhcigpO1xuICAgICAgICB0aGlzLm1lbnVFbGVtZW50LnJlbW92ZUF0dHJpYnV0ZShcIkFjdGl2ZVwiKTtcbiAgICB9XG5cbiAgICBoYW5kbGVDbGljayhldmVudClcbiAgICB7XG4gICAgICAgIGNvbnN0IHRhcmdldCA9IGV2ZW50LnRhcmdldDtcbiAgICAgICAgaWYgKCF0aGlzLm1lbnVFbGVtZW50LmNvbnRhaW5zKHRhcmdldCkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuaGlkZU1lbnUoKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImltcG9ydCB7RWxlbWVudHN9IGZyb20gXCIuLi8uLi9jb3JlL0VsZW1lbnRzXCI7XG5pbXBvcnQge0NsYXNzTmFtZXN9IGZyb20gXCIuLi8uLi9jb3JlL25hbWVzLmpzXCI7XG5pbXBvcnQge2xpbWl0TGVuZ3RofSBmcm9tIFwiLi4vLi4vb3RoZXIvdXRpbFwiO1xuXG5cbmZ1bmN0aW9uIGV4dHJhY3RUZXh0KHRleHROb2RlLCBzdGFydCwgZW5kKSB7XG4gICAgcmV0dXJuIHRleHROb2RlLnRleHRDb250ZW50LnN1YnN0cmluZyhzdGFydCwgZW5kKTtcbn1cblxuXG5leHBvcnQgY2xhc3MgUGFyYW1UZXh0T3B0aW9uIHtcblxuICAgIGNvbnN0cnVjdG9yKG1lbnUsIHBhcmFtZXRlckNvbnRhaW5lcikge1xuICAgICAgICB0aGlzLm1lbnUgPSBtZW51O1xuICAgICAgICB0aGlzLnBhcmFtZXRlckNvbnRhaW5lciA9IHBhcmFtZXRlckNvbnRhaW5lcjtcbiAgICAgICAgdGhpcy50aXRsZSA9IEVsZW1lbnRzLnRleHQoXCJQYXJhbWV0cml6ZSB0ZXh0XCIsIENsYXNzTmFtZXMubWVudS5vcHRpb24udGl0bGUpO1xuICAgICAgICB0aGlzLmlucHV0ID0gRWxlbWVudHMuaW5wdXQoXCJFbnRlciBQYXJhbWV0ZXIgTmFtZVwiLCBDbGFzc05hbWVzLm1lbnUub3B0aW9uLmlucHV0KTtcbiAgICAgICAgdGhpcy5idG4gPSBFbGVtZW50cy5idXR0b24oXCJBY2NlcHRcIiwgQ2xhc3NOYW1lcy5tZW51Lm9wdGlvbi5hY2NlcHRCdG4pO1xuXG5cbiAgICAgICAgdGhpcy5idG4ub25jbGljayA9ICgpID0+IHRoaXMuc3VibWl0KCk7XG4gICAgICAgIHRoaXMuZWwgPSBFbGVtZW50cy53cmFwV2l0aFRhZyhcImxpXCIsIHRoaXMudGl0bGUsIHRoaXMuaW5wdXQsIHRoaXMuYnRuKTtcbiAgICB9XG5cbiAgICBzdWJtaXQoKSB7XG4gICAgICAgIGNvbnN0IHBDb250YWluZXIgPSB0aGlzLnBhcmFtZXRlckNvbnRhaW5lcjtcbiAgICAgICAgY29uc3QgbmFtZSA9IHRoaXMuaW5wdXQudmFsdWU7XG4gICAgICAgIGNvbnN0IHt0ZXh0Tm9kZSwgc3RhcnQsIGVuZH0gPSB0aGlzLmRhdGE7XG5cbiAgICAgICAgY29uc3Qge2NvbnRyb2wsdmlld30gPSBwQ29udGFpbmVyLmZpbmRQYXJhbWV0ZXIobmFtZSkgfHwgcENvbnRhaW5lci5hZGRQYXJhbWV0ZXIobmFtZSwgQ2xhc3NOYW1lcy5wYXJhbWV0ZXIudHlwZS50ZXh0KTtcbiAgICAgICAgY29uc3Qgbm9kZSA9IEVsZW1lbnRzLmV4dHJhY3RUZXh0KHRleHROb2RlLCBzdGFydCwgZW5kKTtcblxuICAgICAgICBjb250cm9sLmFkZE5vZGUobm9kZSk7XG4gICAgICAgIHRoaXMubWVudS5oaWRlTWVudSgpO1xuICAgIH1cblxuICAgIGdldCBlbGVtZW50KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5lbDtcbiAgICB9XG5cblxuICAgIHNldERhdGEodGV4dE5vZGUsIHN0YXJ0LCBlbmQpIHtcbiAgICAgICAgdGhpcy50aXRsZS5pbm5lclRleHQgPSBcIkNvbnZlcnQgdGhpcyB0ZXh0OiB7XCIgKyBsaW1pdExlbmd0aChleHRyYWN0VGV4dCh0ZXh0Tm9kZSwgc3RhcnQsIGVuZCksIDE1LCBcIi4uLlwiKSArIFwifVxcbkFzOlwiO1xuICAgICAgICBpZiAoc3RhcnQgPiBlbmQpIHtcbiAgICAgICAgICAgIGNvbnN0IHQgPSBzdGFydDtcbiAgICAgICAgICAgIHN0YXJ0ID0gZW5kO1xuICAgICAgICAgICAgZW5kID0gdDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmRhdGEgPSB7dGV4dE5vZGUsIHN0YXJ0LCBlbmR9O1xuICAgIH1cbn1cbiIsImltcG9ydCB7TWVudX0gZnJvbSBcIi4vbWVudVwiO1xuaW1wb3J0IHtQYXJhbVRleHRPcHRpb259IGZyb20gXCIuL2FjdGlvbnMvcGFyYW1UZXh0T3B0aW9uXCI7XG5cbmV4cG9ydCBjbGFzcyBDb250ZXh0TWVudSB7XG4gICAgY29uc3RydWN0b3IodGVtcGxhdGUsIHBhcmFtZXRlckNvbnRhaW5lcikge1xuICAgICAgICB0aGlzLnRlbXBsYXRlID0gdGVtcGxhdGU7XG4gICAgICAgIHRoaXMubWVudSA9IG5ldyBNZW51KHRlbXBsYXRlKTtcblxuICAgICAgICAvL2hhbmRsZSBpbnRlcmFjdGlvblxuICAgICAgICB0aGlzLmhhbmRsZUNvbnRleHRNZW51ID0gdGhpcy5oYW5kbGVDb250ZXh0TWVudS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLmhhbmRsZUNsaWNrID0gdGhpcy5oYW5kbGVDbGljay5iaW5kKHRoaXMpO1xuICAgICAgICB0ZW1wbGF0ZS5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ2NvbnRleHRtZW51JywgdGhpcy5oYW5kbGVDb250ZXh0TWVudSk7XG4gICAgICAgIHRlbXBsYXRlLmJvZHkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmhhbmRsZUNsaWNrKTtcblxuICAgICAgICAvL2luaXRpYWxpemUgb3B0aW9uc1xuICAgICAgICB0aGlzLnRleHRPcHRpb24gPSBuZXcgUGFyYW1UZXh0T3B0aW9uKHRoaXMubWVudSxwYXJhbWV0ZXJDb250YWluZXIpO1xuICAgIH1cblxuICAgIHN0YXRpYyBhY3RpdmF0ZUxpbmtNZW51KGxpbmtOb2RlKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKGxpbmtOb2RlKTtcbiAgICAgICAgY29uc29sZS5sb2coXCJnb29kIHNlbGVjdGlvbiBsaW5rXCIpO1xuICAgIH1cblxuICAgIGFjdGl2YXRlVGV4dE1lbnUodGV4dE5vZGUsIHN0YXJ0LCBlbmQpIHtcbiAgICAgICAgaWYgKHN0YXJ0ID4gZW5kKSB7XG4gICAgICAgICAgICBjb25zdCB0ID0gc3RhcnQ7XG4gICAgICAgICAgICBzdGFydCA9IGVuZDtcbiAgICAgICAgICAgIGVuZCA9IHQ7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy50ZXh0T3B0aW9uLnNldERhdGEodGV4dE5vZGUsIHN0YXJ0LCBlbmQpO1xuICAgICAgICB0aGlzLm1lbnUucmVwbGFjZU1lbnVPcHRpb25zKHRoaXMudGV4dE9wdGlvbik7XG4gICAgfVxuXG4gICAgc3RhdGljIHByb2Nlc3NTZWxlY3Rpb24obm9kZSwgc2VsZWN0aW9uKSB7XG4gICAgICAgIGlmIChzZWxlY3Rpb24udHlwZSA9PT0gXCJSYW5nZVwiKSB7XG4gICAgICAgICAgICBpZiAoc2VsZWN0aW9uLmFuY2hvck5vZGUgPT09IHNlbGVjdGlvbi5mb2N1c05vZGUpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0ZXh0U2VsZWN0ZWQgPSBzZWxlY3Rpb24uYW5jaG9yTm9kZS50ZXh0Q29udGVudC5zdWJzdHJpbmcoc2VsZWN0aW9uLmFuY2hvck9mZnNldCwgc2VsZWN0aW9uLmZvY3VzT2Zmc2V0KTtcbiAgICAgICAgICAgICAgICBpZiAodGV4dFNlbGVjdGVkLnRyaW0oKS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiZW1wdHlcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJ0ZXh0XCI7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBcIm1peGVkXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAobm9kZS50YWdOYW1lID09PSAnQScpIHtcbiAgICAgICAgICAgIHJldHVybiBcImxpbmtcIjtcbiAgICAgICAgfSBlbHNlXG4gICAgICAgICAgICByZXR1cm4gXCJub25lXCI7XG4gICAgfVxuXG4gICAgaGFuZGxlQ29udGV4dE1lbnUoZXZlbnQpIHtcbiAgICAgICAgY29uc3Qgbm9kZSA9IGV2ZW50LnRhcmdldDtcbiAgICAgICAgY29uc3Qgc2VsZWN0aW9uID0gdGhpcy50ZW1wbGF0ZS5nZXRTZWxlY3Rpb24oKTtcbiAgICAgICAgY29uc3Qgc2VsZWN0aW9uU3RhdGUgPSBDb250ZXh0TWVudS5wcm9jZXNzU2VsZWN0aW9uKG5vZGUsIHNlbGVjdGlvbik7XG4gICAgICAgIHN3aXRjaCAoc2VsZWN0aW9uU3RhdGUpIHtcbiAgICAgICAgICAgIGNhc2UgXCJlbXB0eVwiOlxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiSW52YWxpZCBzZWxlY3Rpb24hIFlvdSBoYXZlIHNlbGVjdGVkIGVtcHR5L3doaXRlc3BhY2VzXCIpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcInRleHRcIjpcbiAgICAgICAgICAgICAgICB0aGlzLmFjdGl2YXRlVGV4dE1lbnUoc2VsZWN0aW9uLmFuY2hvck5vZGUsIHNlbGVjdGlvbi5hbmNob3JPZmZzZXQsIHNlbGVjdGlvbi5mb2N1c09mZnNldCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwibWl4ZWRcIjpcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkludmFsaWQgc2VsZWN0aW9uISBZb3UgaGF2ZSBzZWxlY3RlZCBtdWx0aXBsZSBub2RlcyBhdCBvbmNlXCIpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcImxpbmtcIjpcbiAgICAgICAgICAgICAgICBDb250ZXh0TWVudS5hY3RpdmF0ZUxpbmtNZW51KG5vZGUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcIm5vbmVcIjpcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkVtcHR5IFNlbGVjdGlvblwiKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm1lbnUuc2hvd01lbnUoKTtcbiAgICAgICAgdGhpcy5tZW51LnBvc2l0aW9uKGV2ZW50LmNsaWVudFgsIGV2ZW50LmNsaWVudFkpO1xuICAgIH1cblxuICAgIGhhbmRsZUNsaWNrKGV2ZW50KSB7XG4gICAgICAgIGNvbnN0IG5vZGUgPSBldmVudC50YXJnZXQ7XG4gICAgICAgIGlmIChub2RlLnRhZ05hbWUgPT09ICdBJykge1xuICAgICAgICAgICAgQ29udGV4dE1lbnUuYWN0aXZhdGVMaW5rTWVudShub2RlKTtcbiAgICAgICAgICAgIHRoaXMubWVudS5zaG93TWVudSgpO1xuICAgICAgICB9XG4gICAgfVxuXG59XG4iLCIvKipcbiAqIHNpbXBsZSBzY3JpcHQgdGhhdCBkaXNhYmxlcyBsaW5rIGNsaWNraW5nIGFuZCByaWdodGNsaWNraW5nXG4gKiBAcGFyYW0gYm9keVxuICovXG5leHBvcnQgZnVuY3Rpb24gZGlzYWJsZURlZmF1bHRzKGJvZHkpIHtcbiAgICBjb25zdCB3YWxrZXIgPSBkb2N1bWVudC5jcmVhdGVUcmVlV2Fsa2VyKGJvZHksIE5vZGVGaWx0ZXIuU0hPV19FTEVNRU5UKTtcbiAgICB3aGlsZSAod2Fsa2VyLm5leHROb2RlKCkpIHtcbiAgICAgICAgaWYgKHdhbGtlci5jdXJyZW50Tm9kZS50YWdOYW1lID09PSBcIkFcIilcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc29sZS5sb2cod2Fsa2VyLmN1cnJlbnROb2RlKTtcbiAgICAgICAgICAgIHdhbGtlci5jdXJyZW50Tm9kZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCk9PiBldmVudC5wcmV2ZW50RGVmYXVsdCgpKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ2NvbnRleHRtZW51JywgKGV2ZW50KT0+ZXZlbnQucHJldmVudERlZmF1bHQoKSk7XG59XG4iLCJpbXBvcnQge2Rpc2FibGVEZWZhdWx0c30gZnJvbSBcIi4vb3RoZXIvZGlzYWJsZURlZmF1bHRBY3Rpb25cIjtcbmltcG9ydCB7Q29udGV4dE1lbnV9IGZyb20gXCIuL2NvbnRleHRtZW51L2NvbnRleHRtZW51XCI7XG5pbXBvcnQge1BhcmFtZXRlckNvbnRhaW5lcn0gZnJvbSBcIi4vcGFyYW1ldGVycy9wYXJhbWV0ZXJDb250YWluZXJcIjtcbmltcG9ydCB7YXBwbHlDU1N9IGZyb20gXCIuL290aGVyL3V0aWxcIjtcblxuY29uc3QgdGVtcGxhdGVDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByLXNvdXJjZVwiKTtcblxuXG5jb25zdCBmcmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpZnJhbWVcIik7XG5mcmFtZS5zcmMgPSB0ZW1wbGF0ZUNvbnRhaW5lci5nZXRBdHRyaWJ1dGUoXCJkYXRhLXRlbXBsYXRlVXJsXCIpO1xuZnJhbWUuaWQgPSBcInRlbXBsYXRlQ29udGFpbmVyXCI7XG5cblxuZnJhbWUub25sb2FkID0gKCkgPT4ge1xuICAgIGNvbnN0IHRlbXBsYXRlID0gZnJhbWUuY29udGVudERvY3VtZW50O1xuICAgIGRpc2FibGVEZWZhdWx0cyh0ZW1wbGF0ZS5ib2R5KTtcbiAgICBhcHBseUNTUyh0ZW1wbGF0ZS5oZWFkLCBcIi9jb250ZXh0bWVudS5jc3NcIik7XG4gICAgYXBwbHlDU1ModGVtcGxhdGUuaGVhZCwgXCJwYXJhbWV0ZXIuY3NzXCIpO1xuXG4gICAgY29uc3QgcGFyYW1ldGVyQ29udGFpbmVyID0gbmV3IFBhcmFtZXRlckNvbnRhaW5lcigpO1xuICAgIGNvbnN0IG1lbnUgPSBuZXcgQ29udGV4dE1lbnUodGVtcGxhdGUsIHBhcmFtZXRlckNvbnRhaW5lcik7XG59O1xuXG50ZW1wbGF0ZUNvbnRhaW5lci5hcHBlbmRDaGlsZChmcmFtZSk7XG5cbi8vIG1vZHVsZS5ob3QuYWNjZXB0KCk7Il0sInNvdXJjZVJvb3QiOiIifQ==